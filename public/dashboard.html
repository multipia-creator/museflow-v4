<!DOCTYPE html>
<html lang="ko" id="html-root">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <meta name="version" content="4.9.1">
    <title>Dashboard - MuseFlow</title>
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- FullCalendar -->
    <link href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.10/index.global.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.10/index.global.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@fullcalendar/google-calendar@6.1.10/index.global.min.js"></script>
    
    <script src="/static/js/tracker.js?v=4.0.0"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        :root {
            --museum-purple: #8b5cf6;
            --museum-pink: #ec4899;
            --museum-gold: #f59e0b;
            --urgent: #ef4444;
            --warning: #f59e0b;
            --success: #10b981;
            --info: #3b82f6;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #000000 0%, #0a0a0f 50%, #000000 100%);
            color: #f5f5f7;
            min-height: 100vh;
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
        }
        
        /* Navigation - Landing Page Style */
        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            background: rgba(15, 10, 31, 0.8);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
        }
        
        .navbar.scrolled {
            background: rgba(15, 10, 31, 0.95);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }
        
        .nav-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .nav-logo {
            display: flex;
            align-items: center;
            gap: 1rem;
            text-decoration: none;
        }
        
        .nav-logo img {
            width: 48px;
            height: 48px;
            border-radius: 12px;
            background: transparent;
            mix-blend-mode: screen;
            filter: brightness(1.2) contrast(1.1);
        }
        
        .nav-logo-text {
            font-size: 1.5rem;
            font-weight: 800;
            background: linear-gradient(135deg, #8b5cf6 0%, #ec4899 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .nav-links {
            display: flex;
            gap: 2rem;
            list-style: none;
            align-items: center;
        }
        
        .nav-links a {
            color: rgba(255, 255, 255, 0.8);
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s ease;
            position: relative;
        }
        
        .nav-links a:hover {
            color: #8b5cf6;
        }
        
        .nav-links a.active {
            color: #8b5cf6;
            font-weight: 600;
        }
        
        .nav-links a::after {
            content: '';
            position: absolute;
            bottom: -4px;
            left: 0;
            width: 0;
            height: 2px;
            background: linear-gradient(135deg, #8b5cf6, #ec4899);
            transition: width 0.3s ease;
        }
        
        .nav-links a:hover::after,
        .nav-links a.active::after {
            width: 100%;
        }
        
        .nav-icon-btn {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            background: rgba(139, 92, 246, 0.1);
            border: 1px solid rgba(139, 92, 246, 0.3);
            border-radius: 12px;
            color: rgba(255, 255, 255, 0.9);
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
        }
        
        .nav-icon-btn:hover {
            background: rgba(139, 92, 246, 0.2);
            border-color: rgba(139, 92, 246, 0.5);
            transform: translateY(-2px);
        }
        
        /* Glass Card */
        .glass-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: saturate(180%) blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 24px;
            padding: 2rem;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }
        
        .glass-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle at top right, rgba(139, 92, 246, 0.15), transparent 70%);
            opacity: 0;
            transition: opacity 0.4s ease;
            pointer-events: none;
        }
        
        .glass-card:hover::before {
            opacity: 1;
        }
        
        .glass-card:hover {
            transform: translateY(-8px) scale(1.01);
            box-shadow: 0 24px 70px rgba(139, 92, 246, 0.5);
            border-color: rgba(139, 92, 246, 0.4);
        }
        
        /* Hero Section - Today's Mission */
        .hero-mission {
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.2), rgba(236, 72, 153, 0.2));
            border: 2px solid rgba(139, 92, 246, 0.5);
            border-radius: 32px;
            padding: 3rem;
            margin-bottom: 3rem;
            position: relative;
            overflow: hidden;
        }
        
        .hero-mission::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(139, 92, 246, 0.3) 0%, transparent 70%);
            animation: pulse 3s ease-in-out infinite;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 0.5; }
            50% { transform: scale(1.1); opacity: 0.8; }
        }
        
        .hero-content {
            position: relative;
            z-index: 1;
        }
        
        .hero-title {
            font-size: 3rem;
            font-weight: 800;
            background: linear-gradient(135deg, #8b5cf6 0%, #ec4899 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 1rem;
        }
        
        .dday-counter {
            display: inline-flex;
            align-items: center;
            gap: 0.75rem;
            background: linear-gradient(135deg, rgba(239, 68, 68, 0.3), rgba(220, 38, 38, 0.2));
            border: 2px solid rgba(239, 68, 68, 0.5);
            border-radius: 16px;
            padding: 1rem 1.5rem;
            font-size: 1.5rem;
            font-weight: 700;
            color: #fca5a5;
            animation: pulse-dday 2s ease-in-out infinite;
        }
        
        @keyframes pulse-dday {
            0%, 100% { transform: scale(1); box-shadow: 0 0 20px rgba(239, 68, 68, 0.3); }
            50% { transform: scale(1.05); box-shadow: 0 0 40px rgba(239, 68, 68, 0.6); }
        }
        
        /* Urgent Alerts */
        .alert-card {
            background: linear-gradient(135deg, rgba(239, 68, 68, 0.15), rgba(220, 38, 38, 0.1));
            border: 2px solid rgba(239, 68, 68, 0.3);
            border-radius: 20px;
            padding: 1.5rem;
            display: flex;
            align-items: center;
            gap: 1.5rem;
            margin-bottom: 1rem;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .alert-card:hover {
            transform: translateX(8px);
            border-color: rgba(239, 68, 68, 0.6);
            box-shadow: 0 8px 24px rgba(239, 68, 68, 0.3);
        }
        
        .alert-icon {
            width: 48px;
            height: 48px;
            background: rgba(239, 68, 68, 0.2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: #fca5a5;
        }
        
        /* Timeline */
        .timeline-container {
            display: flex;
            gap: 1rem;
            overflow-x: auto;
            padding: 1rem 0;
            scrollbar-width: thin;
            scrollbar-color: rgba(139, 92, 246, 0.5) rgba(255, 255, 255, 0.1);
        }
        
        .timeline-container::-webkit-scrollbar {
            height: 8px;
        }
        
        .timeline-container::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
        }
        
        .timeline-container::-webkit-scrollbar-thumb {
            background: rgba(139, 92, 246, 0.5);
            border-radius: 4px;
        }
        
        .timeline-day {
            flex: 0 0 auto;
            width: 200px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 1.5rem;
            transition: all 0.3s ease;
        }
        
        .timeline-day:hover {
            transform: translateY(-4px);
            border-color: rgba(139, 92, 246, 0.5);
        }
        
        .timeline-day.today {
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.2), rgba(236, 72, 153, 0.2));
            border: 2px solid rgba(139, 92, 246, 0.5);
        }
        
        .day-header {
            font-size: 0.875rem;
            color: rgba(255, 255, 255, 0.6);
            margin-bottom: 0.5rem;
        }
        
        .day-date {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 1rem;
        }
        
        .day-event {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 0.75rem;
            margin-bottom: 0.5rem;
            font-size: 0.875rem;
        }
        
        /* Exhibition Cards */
        .exhibition-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            overflow: hidden;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
        }
        
        .exhibition-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 20px 60px rgba(139, 92, 246, 0.4);
            border-color: rgba(139, 92, 246, 0.5);
        }
        
        .card-thumbnail {
            width: 100%;
            height: 200px;
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.3), rgba(236, 72, 153, 0.3));
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }
        
        .card-thumbnail::after {
            content: '';
            position: absolute;
            inset: 0;
            background: radial-gradient(circle at 30% 50%, rgba(139, 92, 246, 0.4), transparent 70%);
            animation: shimmer 3s ease-in-out infinite;
        }
        
        @keyframes shimmer {
            0%, 100% { opacity: 0.5; }
            50% { opacity: 1; }
        }
        
        .card-icon {
            font-size: 4rem;
            opacity: 0.4;
            position: relative;
            z-index: 1;
        }
        
        .card-content {
            padding: 1.5rem;
        }
        
        .card-type {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            border-radius: 100px;
            font-size: 0.875rem;
            font-weight: 700;
            margin-bottom: 1rem;
        }
        
        .type-permanent {
            background: linear-gradient(135deg, #6366f1, #4f46e5);
            color: white;
        }
        
        .type-special {
            background: linear-gradient(135deg, #f59e0b, #d97706);
            color: white;
        }
        
        .type-traveling {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
        }
        
        .type-event {
            background: linear-gradient(135deg, #ec4899, #db2777);
            color: white;
        }
        
        .progress-ring {
            width: 80px;
            height: 80px;
            transform: rotate(-90deg);
        }
        
        .progress-ring-circle {
            transition: stroke-dashoffset 0.6s ease;
        }
        
        /* Quick Actions */
        .quick-action {
            background: rgba(139, 92, 246, 0.2);
            border: 1px solid rgba(139, 92, 246, 0.4);
            border-radius: 12px;
            padding: 1rem 1.5rem;
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 0.75rem;
        }
        
        .quick-action:hover {
            background: rgba(139, 92, 246, 0.3);
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(139, 92, 246, 0.3);
        }
        
        /* Team Activity */
        .activity-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 12px;
            margin-bottom: 0.75rem;
            transition: all 0.3s ease;
        }
        
        .activity-item:hover {
            background: rgba(255, 255, 255, 0.08);
        }
        
        .avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--museum-purple), var(--museum-pink));
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            color: white;
        }
        
        /* Museum Module Cards */
        .module-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 24px;
            padding: 2.5rem;
            display: flex;
            gap: 1.5rem;
            align-items: flex-start;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }
        
        .module-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.15), rgba(236, 72, 153, 0.08));
            opacity: 0;
            transition: opacity 0.4s ease;
        }
        
        .module-card:hover {
            transform: translateY(-10px) scale(1.02);
            border-color: rgba(139, 92, 246, 0.5);
            box-shadow: 0 24px 70px rgba(139, 92, 246, 0.4);
        }
        
        .module-card:hover::before {
            opacity: 1;
        }
        
        .module-card:active {
            transform: translateY(-6px) scale(1.01);
        }
        
        .module-icon {
            width: 80px;
            height: 80px;
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            color: white;
            flex-shrink: 0;
            position: relative;
            z-index: 1;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }
        
        .module-content {
            flex: 1;
            position: relative;
            z-index: 1;
        }
        
        .module-title {
            font-size: 1.375rem;
            font-weight: 700;
            color: white;
            margin-bottom: 0.5rem;
        }
        
        .module-description {
            font-size: 0.875rem;
            color: rgba(255, 255, 255, 0.7);
            margin-bottom: 1rem;
            line-height: 1.5;
        }
        
        .module-stats {
            display: flex;
            gap: 1.5rem;
        }
        
        .stat-item {
            display: flex;
            flex-direction: column;
            gap: 0.25rem;
        }
        
        .stat-label {
            font-size: 0.75rem;
            color: rgba(255, 255, 255, 0.5);
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }
        
        .stat-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: white;
        }
        
        .module-arrow {
            position: relative;
            z-index: 1;
            color: rgba(255, 255, 255, 0.3);
            font-size: 1.5rem;
            transition: all 0.3s;
        }
        
        .module-card:hover .module-arrow {
            color: white;
            transform: translateX(4px);
        }
        
        /* Section Background Colors with Glow Effect */
        section[class^="section-"] {
            padding: 2rem;
            border-radius: 24px;
            margin-bottom: 2rem;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
        }
        
        section[class^="section-"]:hover {
            transform: translateY(-2px);
        }
        
        /* 1. Hero Section - Purple Glow */
        .section-hero {
            background: 
                radial-gradient(circle at top center, rgba(139, 92, 246, 0.15), transparent 70%),
                rgba(10, 10, 15, 0.6);
            border: 1px solid rgba(139, 92, 246, 0.2);
            backdrop-filter: blur(20px);
        }
        
        .section-hero:hover {
            border-color: rgba(139, 92, 246, 0.3);
            box-shadow: 0 8px 32px rgba(139, 92, 246, 0.2);
        }
        
        /* 2. Quick Start - Glass */
        .section-quickstart {
            background: rgba(255, 255, 255, 0.02);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.05);
        }
        
        .section-quickstart:hover {
            background: rgba(255, 255, 255, 0.03);
            border-color: rgba(255, 255, 255, 0.08);
        }
        
        /* 3. Stats - Glass */
        .section-stats {
            background: rgba(255, 255, 255, 0.02);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.05);
        }
        
        .section-stats:hover {
            background: rgba(255, 255, 255, 0.03);
            border-color: rgba(255, 255, 255, 0.08);
        }
        
        /* 4. Calendar - Indigo Glow */
        .section-calendar {
            background: 
                radial-gradient(circle at center, rgba(99, 102, 241, 0.1), transparent 70%),
                rgba(10, 10, 15, 0.6);
            border: 1px solid rgba(99, 102, 241, 0.15);
            backdrop-filter: blur(20px);
        }
        
        .section-calendar:hover {
            border-color: rgba(99, 102, 241, 0.25);
            box-shadow: 0 8px 32px rgba(99, 102, 241, 0.15);
        }
        
        /* 5. Projects Management - Cyan Glow */
        .section-projects {
            background: 
                radial-gradient(circle at bottom center, rgba(6, 182, 212, 0.1), transparent 70%),
                rgba(10, 10, 15, 0.6);
            border: 1px solid rgba(6, 182, 212, 0.15);
            backdrop-filter: blur(20px);
        }
        
        .section-projects:hover {
            border-color: rgba(6, 182, 212, 0.25);
            box-shadow: 0 8px 32px rgba(6, 182, 212, 0.15);
        }
        
        /* 6. Team & Collaboration - Pink Glow */
        .section-team {
            background: 
                radial-gradient(circle at top center, rgba(236, 72, 153, 0.1), transparent 70%),
                rgba(10, 10, 15, 0.6);
            border: 1px solid rgba(236, 72, 153, 0.15);
            backdrop-filter: blur(20px);
        }
        
        .section-team:hover {
            border-color: rgba(236, 72, 153, 0.25);
            box-shadow: 0 8px 32px rgba(236, 72, 153, 0.15);
        }
        
        /* 7. Analytics - Gold Glow */
        .section-analytics {
            background: 
                radial-gradient(circle at center, rgba(245, 158, 11, 0.08), transparent 70%),
                rgba(10, 10, 15, 0.6);
            border: 1px solid rgba(245, 158, 11, 0.15);
            backdrop-filter: blur(20px);
        }
        
        .section-analytics:hover {
            border-color: rgba(245, 158, 11, 0.25);
            box-shadow: 0 8px 32px rgba(245, 158, 11, 0.12);
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .hero-title { font-size: 2rem; }
            .hero-mission { padding: 2rem; }
            .timeline-day { width: 150px; }
            
            .module-card {
                padding: 1.5rem;
            }
            
            .module-icon {
                width: 60px;
                height: 60px;
                font-size: 1.5rem;
            }
            
            section[class^="section-"] {
                padding: 2rem 0;
                margin-bottom: 1.5rem;
            }
        }
    </style>
    
    <!-- PWA Configuration -->
    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#8b5cf6">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="MuseFlow">
    <link rel="apple-touch-icon" href="/static/images/logo-neon-m.png">
</head>
<body>
    <!-- Navigation - Landing Page Style -->
    <nav class="navbar" id="navbar">
        <div class="nav-container">
            <a href="/landing.html" class="nav-logo">
                <img src="/static/images/logo-neon-m.png" alt="MuseFlow" style="box-shadow: 0 0 20px rgba(139, 92, 246, 0.6);">
                <span class="nav-logo-text">MuseFlow.life</span>
            </a>
            
            <ul class="nav-links" id="nav-links">
                <li><a href="/landing.html"><i class="fas fa-home"></i> Home</a></li>
                <li><a href="/dashboard.html" class="active"><i class="fas fa-chart-line"></i> Dashboard</a></li>
                <li style="position: relative;" class="workflow-menu">
                    <a href="#" onclick="event.preventDefault(); toggleWorkflowMenu()" style="display: flex; align-items: center; gap: 0.5rem;">
                        <i class="fas fa-project-diagram"></i> Workflow <i class="fas fa-chevron-down" style="font-size: 0.75rem;"></i>
                    </a>
                    <div id="workflow-dropdown" style="display: none; position: absolute; top: 100%; left: 0; background: rgba(10, 10, 15, 0.98); backdrop-filter: blur(20px); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 12px; padding: 0.5rem 0; margin-top: 0.5rem; min-width: 200px; z-index: 1000; box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);">

                        <a href="/canvas-v3.html" style="display: flex; align-items: center; gap: 0.75rem; padding: 0.75rem 1rem; color: rgba(255, 255, 255, 0.8); text-decoration: none; transition: all 0.2s;" onmouseover="this.style.background='rgba(139, 92, 246, 0.1)'; this.style.color='#fff'" onmouseout="this.style.background='transparent'; this.style.color='rgba(255, 255, 255, 0.8)'">
                            <i class="fas fa-project-diagram" style="width: 20px;"></i>
                            <div>
                                <div style="font-weight: 500;">Canvas V3</div>
                                <div style="font-size: 0.75rem; color: rgba(255, 255, 255, 0.5);">ÎÖ∏Îìú ÏóêÎîîÌÑ∞</div>
                            </div>
                        </a>
                    </div>
                </li>
                <li><a href="/budget.html"><i class="fas fa-dollar-sign"></i> Budget</a></li>
                <li><a href="/help-center.html"><i class="fas fa-question-circle"></i> Help</a></li>
            </ul>
            <div style="display: flex; align-items: center; gap: 0.75rem;">
                <button id="ai-assistant-btn" onclick="openAIAssistant()" style="background: linear-gradient(135deg, #8b5cf6, #ec4899); border: none; padding: 0.5rem 1rem; border-radius: 12px; color: white; cursor: pointer; font-weight: 600; display: flex; align-items: center; gap: 0.5rem; transition: all 0.3s;" onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 8px 20px rgba(139, 92, 246, 0.4)'" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='none'">
                    <i class="fas fa-magic"></i> AI
                </button>
                
                <select id="lang-select" style="background: rgba(139, 92, 246, 0.1); border: 1px solid rgba(139, 92, 246, 0.3); padding: 0.5rem 1rem; border-radius: 12px; color: white; cursor: pointer; font-weight: 500;">
                    <option value="ko">üá∞üá∑ ÌïúÍµ≠Ïñ¥</option>
                    <option value="en">üá∫üá∏ English</option>
                </select>
                
                <button id="notification-btn" class="nav-icon-btn" onclick="toggleNotificationPanel()" style="position: relative;">
                    <i class="fas fa-bell"></i>
                    <span class="notification-badge" style="display: none;">0</span>
                </button>
                <div id="notification-panel" class="notification-panel" style="display: none; position: absolute; top: 100%; right: 0; margin-top: 0.5rem; z-index: 1001;"></div>
                
                <a href="/account.html" class="nav-icon-btn" title="ÎÇ¥ Í≥ÑÏ†ï">
                    <i class="fas fa-user"></i>
                    <span>Í≥ÑÏ†ï</span>
                </a>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div style="max-width: 1600px; margin: 0 auto; padding: 6rem 2rem 3rem 2rem;">
        
        <!-- Hero Section - Ïò§ÎäòÏùò ÌïµÏã¨ ÏóÖÎ¨¥ (ÌÜµÌï©) -->
        <section class="hero-mission section-hero" id="hero-mission">
            <div class="hero-content">
                <div class="hero-title">üéØ Ïò§ÎäòÏùò ÌïµÏã¨ ÏóÖÎ¨¥</div>
                <div style="display: flex; justify-content: space-between; align-items: flex-start; flex-wrap: wrap; gap: 2rem;">
                    <!-- Left: Mission -->
                    <div style="flex: 1; min-width: 300px;">
                        <h2 id="mission-title" style="font-size: 2rem; font-weight: 700; margin-bottom: 1rem; color: white;">
                            Î°úÎî© Ï§ë...
                        </h2>
                        <div id="mission-dday"></div>
                        
                        <!-- Urgent Alerts (ÌÜµÌï©) -->
                        <div id="urgent-alerts-inline" style="margin-top: 1.5rem;">
                            <!-- Top 3 urgent alerts will be inserted here -->
                        </div>
                        
                        <div style="display: flex; gap: 1rem; margin-top: 2rem; flex-wrap: wrap;">
                            <button class="quick-action" onclick="viewMission()">
                                <i class="fas fa-eye"></i> ÏÉÅÏÑ∏ Î≥¥Í∏∞
                            </button>
                            <button class="quick-action" onclick="openChecklist()">
                                <i class="fas fa-tasks"></i> Ï≤¥ÌÅ¨Î¶¨Ïä§Ìä∏
                            </button>
                            <button class="quick-action" onclick="contactTeam()">
                                <i class="fas fa-comments"></i> ÌåÄ Ï±ÑÌåÖ
                            </button>
                        </div>
                    </div>
                    
                    <!-- Right: Progress Ring -->
                    <div style="display: flex; align-items: center; gap: 2rem;">
                        <div id="mission-progress" style="position: relative;">
                            <!-- Progress ring will be inserted here -->
                        </div>
                        <div>
                            <div id="mission-stats" style="font-size: 0.875rem; color: rgba(255, 255, 255, 0.8);">
                                <!-- Stats will be inserted here -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Quick Start Section -->
        <section class="section-quickstart">
            <div class="glass-card" style="padding: 1.5rem;">
                <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 1rem;">
                    <h3 style="font-size: 1.25rem; font-weight: 600; color: white; display: flex; align-items: center; gap: 0.5rem;">
                        <i class="fas fa-rocket" style="color: var(--museum-purple);"></i>
                        Îπ†Î•∏ ÏãúÏûë
                    </h3>
                    <div style="display: flex; gap: 1rem; flex-wrap: wrap;">
                        <button onclick="openNewProjectModal()" style="padding: 0.75rem 1.5rem; background: linear-gradient(135deg, #8b5cf6, #ec4899); border: none; border-radius: 12px; color: white; font-weight: 600; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 0.5rem;" onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 8px 24px rgba(139, 92, 246, 0.4)'" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='none'">
                            <i class="fas fa-plus"></i> ÏÉà ÌîÑÎ°úÏ†ùÌä∏
                        </button>
                        <button onclick="openTemplateModal()" style="padding: 0.75rem 1.5rem; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.15); border-radius: 12px; color: white; font-weight: 600; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 0.5rem;" onmouseover="this.style.background='rgba(255, 255, 255, 0.1)'" onmouseout="this.style.background='rgba(255, 255, 255, 0.05)'">
                            <i class="fas fa-layer-group"></i> ÌÖúÌîåÎ¶ø ÏÑ†ÌÉù
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Overview Statistics Cards -->
        <section class="section-stats">
            <h2 style="font-size: 1.75rem; font-weight: 700; margin-bottom: 1.5rem; display: flex; align-items: center; gap: 0.75rem;">
                <i class="fas fa-chart-pie" style="color: var(--museum-purple);"></i>
                ÌîÑÎ°úÏ†ùÌä∏ ÌòÑÌô©
            </h2>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem;">
                <!-- Total Projects -->
                <div class="glass-card" style="text-align: center; position: relative; overflow: hidden;">
                    <div style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: radial-gradient(circle at center, rgba(139, 92, 246, 0.1), transparent); pointer-events: none;"></div>
                    <div style="position: relative; z-index: 1;">
                        <div style="font-size: 3rem; margin-bottom: 0.5rem;">
                            <i class="fas fa-project-diagram" style="color: var(--museum-purple);"></i>
                        </div>
                        <div style="font-size: 2.5rem; font-weight: 700; margin-bottom: 0.5rem;" id="stat-total">0</div>
                        <div style="color: rgba(255, 255, 255, 0.6); font-size: 0.875rem;">Ï†ÑÏ≤¥ ÌîÑÎ°úÏ†ùÌä∏</div>
                    </div>
                </div>
                
                <!-- In Progress -->
                <div class="glass-card" style="text-align: center; position: relative; overflow: hidden;">
                    <div style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: radial-gradient(circle at center, rgba(6, 182, 212, 0.1), transparent); pointer-events: none;"></div>
                    <div style="position: relative; z-index: 1;">
                        <div style="font-size: 3rem; margin-bottom: 0.5rem;">
                            <i class="fas fa-spinner" style="color: var(--cyan);"></i>
                        </div>
                        <div style="font-size: 2.5rem; font-weight: 700; margin-bottom: 0.5rem;" id="stat-inprogress">0</div>
                        <div style="color: rgba(255, 255, 255, 0.6); font-size: 0.875rem;">ÏßÑÌñâÏ§ë</div>
                    </div>
                </div>
                
                <!-- Completed -->
                <div class="glass-card" style="text-align: center; position: relative; overflow: hidden;">
                    <div style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: radial-gradient(circle at center, rgba(16, 185, 129, 0.1), transparent); pointer-events: none;"></div>
                    <div style="position: relative; z-index: 1;">
                        <div style="font-size: 3rem; margin-bottom: 0.5rem;">
                            <i class="fas fa-check-circle" style="color: var(--green);"></i>
                        </div>
                        <div style="font-size: 2.5rem; font-weight: 700; margin-bottom: 0.5rem;" id="stat-completed">0</div>
                        <div style="color: rgba(255, 255, 255, 0.6); font-size: 0.875rem;">ÏôÑÎ£å</div>
                    </div>
                </div>
                
                <!-- Due This Month -->
                <div class="glass-card" style="text-align: center; position: relative; overflow: hidden;">
                    <div style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: radial-gradient(circle at center, rgba(245, 158, 11, 0.1), transparent); pointer-events: none;"></div>
                    <div style="position: relative; z-index: 1;">
                        <div style="font-size: 3rem; margin-bottom: 0.5rem;">
                            <i class="fas fa-calendar-day" style="color: var(--museum-gold);"></i>
                        </div>
                        <div style="font-size: 2.5rem; font-weight: 700; margin-bottom: 0.5rem;" id="stat-duethismonth">0</div>
                        <div style="color: rgba(255, 255, 255, 0.6); font-size: 0.875rem;">Ïù¥Î≤à Îã¨ ÎßàÍ∞ê</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Project Calendar (FullCalendar) -->
        <section class="section-calendar">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem; flex-wrap: wrap; gap: 1rem;">
                <h2 style="font-size: 1.75rem; font-weight: 700; display: flex; align-items: center; gap: 0.75rem;">
                    <i class="fas fa-calendar-alt" style="color: var(--museum-purple);"></i>
                    ÌîÑÎ°úÏ†ùÌä∏ Ï∫òÎ¶∞Îçî
                </h2>
                <button onclick="syncGoogleCalendar()" style="padding: 0.75rem 1.5rem; background: rgba(66, 133, 244, 0.2); border: 1px solid rgba(66, 133, 244, 0.3); border-radius: 12px; color: #4285f4; font-weight: 600; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 0.5rem;" onmouseover="this.style.background='rgba(66, 133, 244, 0.3)'" onmouseout="this.style.background='rgba(66, 133, 244, 0.2)'">
                    <i class="fab fa-google"></i> Íµ¨Í∏Ä Ï∫òÎ¶∞Îçî Ïó∞Îèô
                </button>
            </div>
            <div class="glass-card" style="padding: 1.5rem;">
                <div id="calendar"></div>
            </div>
        </section>

        <!-- Projects Management (ÌÜµÌï©: Î™®Îì† ÌîÑÎ°úÏ†ùÌä∏ + Ï†ÑÏãú Ïù∏ÏÇ¨Ïù¥Ìä∏ + CRUD) -->
        <section class="section-projects">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem; flex-wrap: wrap; gap: 1rem;">
                <h2 style="font-size: 1.75rem; font-weight: 700; display: flex; align-items: center; gap: 0.75rem;">
                    <i class="fas fa-folder-open" style="color: #06b6d4;"></i>
                    ÌîÑÎ°úÏ†ùÌä∏ Í¥ÄÎ¶¨
                </h2>
                <div style="display: flex; gap: 1rem; flex-wrap: wrap;">
                    <select id="type-filter" style="background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.15); padding: 0.75rem 1.25rem; border-radius: 12px; color: white; cursor: pointer;">
                        <option value="all">Ï†ÑÏ≤¥ Ïú†Ìòï</option>
                        <option value="exhibition">Ï†ÑÏãú</option>
                        <option value="education">ÍµêÏú°</option>
                        <option value="archive">ÏàòÏßë/Î≥¥Ï°¥</option>
                        <option value="publication">Ï∂úÌåê</option>
                        <option value="research">Ïó∞Íµ¨</option>
                        <option value="admin">ÌñâÏ†ï</option>
                    </select>
                    <select id="phase-filter" style="background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.15); padding: 0.75rem 1.25rem; border-radius: 12px; color: white; cursor: pointer;">
                        <option value="all">Ï†ÑÏ≤¥ Îã®Í≥Ñ</option>
                        <option value="planning">Í∏∞Ìöç</option>
                        <option value="preparation">Ï§ÄÎπÑ</option>
                        <option value="execution">ÏßÑÌñâ</option>
                        <option value="marketing">ÌôçÎ≥¥</option>
                        <option value="completed">ÏôÑÎ£å</option>
                    </select>
                    <select id="sort-order" style="background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.15); padding: 0.75rem 1.25rem; border-radius: 12px; color: white; cursor: pointer;">
                        <option value="newest">ÏµúÏã†Ïàú</option>
                        <option value="oldest">Ïò§ÎûòÎêúÏàú</option>
                        <option value="duedate">ÎßàÍ∞êÏùºÏàú</option>
                    </select>
                </div>
            </div>
            <div id="projects-grid" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(380px, 1fr)); gap: 1.5rem;">
                <!-- Project cards will be dynamically inserted -->
            </div>
        </section>

        <!-- Team & Collaboration (ÌÜµÌï©) -->
        <section class="section-team">
            <h2 style="font-size: 1.75rem; font-weight: 700; margin-bottom: 1.5rem; display: flex; align-items: center; gap: 0.75rem;">
                <i class="fas fa-users" style="color: #ec4899;"></i>
                ÌåÄ & ÌòëÏóÖ
            </h2>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(400px, 1fr)); gap: 1.5rem;">
                <!-- Team Activity Feed -->
                <div class="glass-card">
                    <h3 style="font-size: 1.125rem; font-weight: 600; margin-bottom: 1rem; display: flex; align-items: center; gap: 0.5rem;">
                        <i class="fas fa-stream" style="color: #ec4899;"></i>
                        ÌåÄ ÌôúÎèô
                    </h3>
                    <div id="team-activity" style="max-height: 400px; overflow-y: auto;">
                        <!-- Team activities will be inserted here -->
                    </div>
                </div>
                
                <!-- Top Contributors -->
                <div class="glass-card">
                    <h3 style="font-size: 1.125rem; font-weight: 600; margin-bottom: 1rem; display: flex; align-items: center; gap: 0.5rem;">
                        <i class="fas fa-trophy" style="color: #f59e0b;"></i>
                        Ïù¥Î≤à Ï£º Ïö∞Ïàò Í∏∞Ïó¨Ïûê
                    </h3>
                    <div id="top-contributors">
                        <!-- Top contributors will be inserted here -->
                    </div>
                </div>
            </div>
        </section>

        <!-- Analytics Charts -->
        <section class="section-analytics">
            <h2 style="font-size: 1.75rem; font-weight: 700; margin-bottom: 1.5rem; display: flex; align-items: center; gap: 0.75rem;">
                <i class="fas fa-chart-line" style="color: var(--museum-purple);"></i>
                Îç∞Ïù¥ÌÑ∞ Î∂ÑÏÑù
            </h2>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(500px, 1fr)); gap: 1.5rem;">
                <!-- Chart 1: Monthly Trend -->
                <div class="glass-card">
                    <h3 style="font-size: 1.125rem; font-weight: 600; margin-bottom: 1rem; display: flex; align-items: center; gap: 0.5rem;">
                        <i class="fas fa-chart-line" style="color: #8b5cf6;"></i>
                        ÏõîÎ≥Ñ Ï†ÑÏãú Ìä∏Î†åÎìú
                    </h3>
                    <canvas id="monthlyTrendChart" style="max-height: 250px;"></canvas>
                </div>
                
                <!-- Chart 2: Type Distribution -->
                <div class="glass-card">
                    <h3 style="font-size: 1.125rem; font-weight: 600; margin-bottom: 1rem; display: flex; align-items: center; gap: 0.5rem;">
                        <i class="fas fa-chart-pie" style="color: #ec4899;"></i>
                        Ï†ÑÏãú Ïú†Ìòï Î∂ÑÌè¨
                    </h3>
                    <canvas id="typeDistributionChart" style="max-height: 250px;"></canvas>
                </div>
                
                <!-- Chart 3: Budget Usage -->
                <div class="glass-card">
                    <h3 style="font-size: 1.125rem; font-weight: 600; margin-bottom: 1rem; display: flex; align-items: center; gap: 0.5rem;">
                        <i class="fas fa-chart-bar" style="color: #f59e0b;"></i>
                        ÏòàÏÇ∞ ÏÇ¨Ïö© ÌòÑÌô©
                    </h3>
                    <canvas id="budgetChart" style="max-height: 250px;"></canvas>
                </div>
                
                <!-- Chart 4: Phase Distribution -->
                <div class="glass-card">
                    <h3 style="font-size: 1.125rem; font-weight: 600; margin-bottom: 1rem; display: flex; align-items: center; gap: 0.5rem;">
                        <i class="fas fa-tasks" style="color: #10b981;"></i>
                        ÏßÑÌñâ Îã®Í≥Ñ Î∂ÑÌè¨
                    </h3>
                    <canvas id="phaseDistributionChart" style="max-height: 250px;"></canvas>
                </div>
            </div>
        </section>

        <!-- (Ï†ÑÏãú Ïù∏ÏÇ¨Ïù¥Ìä∏, Ï†ÑÏãú Í¥ÄÎ¶¨, ÌåÄ ÌôúÎèô Ï§ëÎ≥µ ÏÑπÏÖò Ï†úÍ±∞Îê®) -->
                ÏÑ±Í≥º ÏßÄÌëú
            </h2>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1.5rem;">
                <!-- Metric 1: Task Completion Rate -->
                <div class="glass-card" style="text-align: center; padding: 2rem;">
                    <div style="font-size: 3rem; margin-bottom: 0.5rem;" id="metric-completion">
                        <i class="fas fa-tasks" style="color: #10b981;"></i>
                    </div>
                    <div style="font-size: 2.5rem; font-weight: 700; margin-bottom: 0.5rem; color: #10b981;" id="metric-completion-value">78%</div>
                    <div style="font-size: 0.875rem; color: rgba(255, 255, 255, 0.7);">ÏûëÏóÖ ÏôÑÎ£åÏú®</div>
                    <div style="font-size: 0.75rem; color: rgba(255, 255, 255, 0.5); margin-top: 0.5rem;">ÏßÄÎÇúÏ£º ÎåÄÎπÑ +5%</div>
                </div>

                <!-- Metric 2: Team Productivity -->
                <div class="glass-card" style="text-align: center; padding: 2rem;">
                    <div style="font-size: 3rem; margin-bottom: 0.5rem;">
                        <i class="fas fa-clock" style="color: #8b5cf6;"></i>
                    </div>
                    <div style="font-size: 2.5rem; font-weight: 700; margin-bottom: 0.5rem; color: #8b5cf6;" id="metric-productivity-value">24</div>
                    <div style="font-size: 0.875rem; color: rgba(255, 255, 255, 0.7);">ÌèâÍ∑† ÏûëÏóÖ ÏãúÍ∞Ñ (ÏãúÍ∞Ñ)</div>
                    <div style="font-size: 0.75rem; color: rgba(255, 255, 255, 0.5); margin-top: 0.5rem;">ÏûëÏóÖÎãπ ÌèâÍ∑† ÏÜåÏöî</div>
                </div>

                <!-- Metric 3: Budget Efficiency -->
                <div class="glass-card" style="text-align: center; padding: 2rem;">
                    <div style="font-size: 3rem; margin-bottom: 0.5rem;">
                        <i class="fas fa-won-sign" style="color: #f59e0b;"></i>
                    </div>
                    <div style="font-size: 2.5rem; font-weight: 700; margin-bottom: 0.5rem; color: #f59e0b;" id="metric-budget-value">66%</div>
                    <div style="font-size: 0.875rem; color: rgba(255, 255, 255, 0.7);">ÏòàÏÇ∞ ÏßëÌñâÎ•†</div>
                    <div style="font-size: 0.75rem; color: rgba(255, 255, 255, 0.5); margin-top: 0.5rem;">Ï¥ù 680M Ï§ë 450M ÏÇ¨Ïö©</div>
                </div>

                <!-- Metric 4: Team Collaboration -->
                <div class="glass-card" style="text-align: center; padding: 2rem;">
                    <div style="font-size: 3rem; margin-bottom: 0.5rem;">
                        <i class="fas fa-comments" style="color: #ec4899;"></i>
                    </div>
                    <div style="font-size: 2.5rem; font-weight: 700; margin-bottom: 0.5rem; color: #ec4899;" id="metric-collaboration-value">156</div>
                    <div style="font-size: 0.875rem; color: rgba(255, 255, 255, 0.7);">ÌåÄ ÌòëÏóÖ ÌôúÎèô</div>
                    <div style="font-size: 0.75rem; color: rgba(255, 255, 255, 0.5); margin-top: 0.5rem;">Ïù¥Î≤à Ï£º ÎåìÍ∏Ä & ÏóÖÎç∞Ïù¥Ìä∏</div>
                </div>
            </div>
        </section>

    </div>

    <script>
        // API Base URL (already defined by tracker.js, no need to redeclare)
        // Use the global API_BASE_URL from tracker.js
        
        // Authentication (Demo mode - bypass for sample data visualization)
        let token = localStorage.getItem('authToken');
        if (!token) {
            // Demo mode: create a dummy token for visualization testing
            token = 'demo-token-12345';
            localStorage.setItem('authToken', token);
            console.log('üé® Demo mode activated for data visualization');
        }
        
        // Language
        let currentLang = localStorage.getItem('museflow_language') || 'ko';
        document.getElementById('lang-select').value = currentLang;
        
        // Data
        let allProjects = [];
        
        // Calculate D-Day
        function calculateDDay(endDate) {
            if (!endDate) return null;
            const now = new Date();
            const end = new Date(endDate);
            const diff = Math.ceil((end - now) / (1000 * 60 * 60 * 24));
            return diff;
        }
        
        // Render Progress Ring
        function renderProgressRing(percentage) {
            const radius = 32;
            const circumference = 2 * Math.PI * radius;
            const offset = circumference - (percentage / 100) * circumference;
            
            let color = '#10b981';
            if (percentage < 40) color = '#ef4444';
            else if (percentage < 70) color = '#f59e0b';
            
            return `
                <svg class="progress-ring" width="80" height="80">
                    <circle
                        cx="40"
                        cy="40"
                        r="${radius}"
                        stroke="rgba(255, 255, 255, 0.1)"
                        stroke-width="8"
                        fill="none"
                    />
                    <circle
                        class="progress-ring-circle"
                        cx="40"
                        cy="40"
                        r="${radius}"
                        stroke="${color}"
                        stroke-width="8"
                        fill="none"
                        stroke-dasharray="${circumference}"
                        stroke-dashoffset="${offset}"
                        stroke-linecap="round"
                    />
                    <text x="40" y="45" text-anchor="middle" font-size="18" font-weight="700" fill="white">
                        ${percentage}%
                    </text>
                </svg>
            `;
        }
        
        // Render Hero Mission
        function renderHeroMission() {
            const urgentProjects = allProjects
                .filter(p => {
                    const dday = calculateDDay(p.end_date);
                    return dday !== null && dday >= 0 && dday <= 14 && p.status === 'active';
                })
                .sort((a, b) => calculateDDay(a.end_date) - calculateDDay(b.end_date));
            
            if (urgentProjects.length === 0) {
                document.getElementById('mission-title').textContent = 'Î™®Îì† ÏùºÏ†ïÏù¥ ÏàúÏ°∞Î°≠ÏäµÎãàÎã§! üéâ';
                document.getElementById('mission-dday').innerHTML = '';
                document.getElementById('mission-progress').innerHTML = renderProgressRing(100);
                document.getElementById('mission-stats').innerHTML = '<div>‚úÖ Í∏¥Í∏âÌïú Ï†ÑÏãúÍ∞Ä ÏóÜÏäµÎãàÎã§</div>';
                return;
            }
            
            const topMission = urgentProjects[0];
            const dday = calculateDDay(topMission.end_date);
            
            document.getElementById('mission-title').textContent = topMission.title;
            
            const ddayHTML = dday === 0 
                ? '<span class="dday-counter">üö® D-Day</span>'
                : `<span class="dday-counter">üö® D-${dday}</span>`;
            document.getElementById('mission-dday').innerHTML = ddayHTML;
            
            // Calculate progress based on phase
            const phaseProgress = {
                'planning': 20,
                'preparation': 40,
                'execution': 60,
                'marketing': 80,
                'completed': 100
            };
            const progress = phaseProgress[topMission.phase] || 0;
            document.getElementById('mission-progress').innerHTML = renderProgressRing(progress);
            
            const budgetPercent = topMission.budget_total > 0 
                ? ((topMission.budget_used / topMission.budget_total) * 100).toFixed(0)
                : 0;
            
            document.getElementById('mission-stats').innerHTML = `
                <div style="margin-bottom: 0.5rem;">üìç ${topMission.location || 'Ïû•ÏÜå ÎØ∏Ï†ï'}</div>
                <div style="margin-bottom: 0.5rem;">üë§ ${topMission.curator || 'Îã¥ÎãπÏûê ÎØ∏Ï†ï'}</div>
                <div style="margin-bottom: 0.5rem;">üé® ÏûëÌíà ${topMission.artwork_count || 0}Ï†ê</div>
                <div>üí∞ ÏòàÏÇ∞ ${budgetPercent}% ÏÇ¨Ïö©</div>
            `;
        }
        
        // Render Urgent Alerts
        function renderUrgentAlerts() {
            const alerts = [];
            
            allProjects.forEach(p => {
                const dday = calculateDDay(p.end_date);
                
                // D-7 alerts
                if (dday !== null && dday >= 0 && dday <= 7 && p.status === 'active') {
                    alerts.push({
                        type: 'dday',
                        severity: 'urgent',
                        icon: 'üö®',
                        message: `${p.title} - D-${dday === 0 ? 'Day' : dday}`,
                        action: () => window.location.href = `/canvas-v3.html?project=${p.id}`
                    });
                }
                
                // Budget alerts
                if (p.budget_total > 0) {
                    const budgetPercent = (p.budget_used / p.budget_total) * 100;
                    if (budgetPercent >= 90) {
                        alerts.push({
                            type: 'budget',
                            severity: 'warning',
                            icon: 'üí∞',
                            message: `${p.title} - ÏòàÏÇ∞ ${budgetPercent.toFixed(0)}% Ï¥àÍ≥º`,
                            action: () => window.location.href = `/projects.html`
                        });
                    }
                }
            });
            
            const container = document.getElementById('urgent-alerts');
            if (alerts.length === 0) {
                container.innerHTML = '<div style="color: rgba(255, 255, 255, 0.6); padding: 2rem; text-align: center;">‚úÖ Í∏¥Í∏â ÏïåÎ¶ºÏù¥ ÏóÜÏäµÎãàÎã§</div>';
                return;
            }
            
            container.innerHTML = alerts.map(alert => `
                <div class="alert-card" onclick='${alert.action.toString().replace(/'/g, "&apos;")}'>
                    <div class="alert-icon">${alert.icon}</div>
                    <div style="flex: 1;">
                        <div style="font-weight: 600; margin-bottom: 0.25rem;">${alert.message}</div>
                        <div style="font-size: 0.875rem; color: rgba(255, 255, 255, 0.7);">ÌÅ¥Î¶≠ÌïòÏó¨ ÏûêÏÑ∏Ìûà Î≥¥Í∏∞</div>
                    </div>
                    <i class="fas fa-chevron-right" style="color: rgba(255, 255, 255, 0.5);"></i>
                </div>
            `).join('');
        }
        
        // Render Week Timeline
        function renderWeekTimeline() {
            const container = document.getElementById('week-timeline');
            const days = [];
            const today = new Date();
            
            for (let i = 0; i < 7; i++) {
                const date = new Date(today);
                date.setDate(today.getDate() + i);
                
                const dayName = ['Ïùº', 'Ïõî', 'Ìôî', 'Ïàò', 'Î™©', 'Í∏à', 'ÌÜ†'][date.getDay()];
                const isToday = i === 0;
                
                // Find events for this day
                const events = allProjects.filter(p => {
                    if (!p.start_date) return false;
                    const startDate = new Date(p.start_date);
                    return startDate.toDateString() === date.toDateString();
                });
                
                days.push(`
                    <div class="timeline-day ${isToday ? 'today' : ''}">
                        <div class="day-header">${dayName}ÏöîÏùº ${isToday ? '(Ïò§Îäò)' : ''}</div>
                        <div class="day-date">${date.getMonth() + 1}/${date.getDate()}</div>
                        ${events.length > 0 
                            ? events.map(e => `<div class="day-event">üìå ${e.title}</div>`).join('') 
                            : '<div style="color: rgba(255, 255, 255, 0.5); font-size: 0.875rem;">ÏùºÏ†ï ÏóÜÏùå</div>'
                        }
                    </div>
                `);
            }
            
            container.innerHTML = days.join('');
        }
        
        // Render Exhibition Cards
        function renderExhibitions(filter = 'all') {
            const filtered = filter === 'all' 
                ? allProjects 
                : allProjects.filter(p => p.type === filter);
            
            const typeConfig = {
                permanent: { label: 'ÏÉÅÏÑ§Ï†Ñ', icon: 'üèõÔ∏è', class: 'type-permanent' },
                special: { label: 'ÌäπÎ≥ÑÏ†Ñ', icon: '‚ú®', class: 'type-special' },
                traveling: { label: 'ÏàúÌöåÏ†Ñ', icon: 'üöå', class: 'type-traveling' },
                event: { label: 'Í∏∞ÌöçÏ†Ñ', icon: 'üé≠', class: 'type-event' }
            };
            
            const phaseProgress = {
                'planning': 20,
                'preparation': 40,
                'execution': 60,
                'marketing': 80,
                'completed': 100
            };
            
            const container = document.getElementById('exhibitions-grid');
            container.innerHTML = filtered.map(p => {
                const type = typeConfig[p.type] || typeConfig.permanent;
                const progress = phaseProgress[p.phase] || 0;
                const dday = calculateDDay(p.end_date);
                
                return `
                    <div class="exhibition-card" onclick="window.location.href='/canvas-v3.html?project=${p.id}'">
                        <div class="card-thumbnail">
                            <div class="card-icon">${type.icon}</div>
                        </div>
                        <div class="card-content">
                            <span class="card-type ${type.class}">${type.icon} ${type.label}</span>
                            <h3 style="font-size: 1.5rem; font-weight: 700; margin-bottom: 0.75rem;">${p.title}</h3>
                            <p style="color: rgba(255, 255, 255, 0.7); margin-bottom: 1rem; line-height: 1.6;">
                                ${p.description || 'ÏÑ§Î™Ö ÏóÜÏùå'}
                            </p>
                            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 0.75rem; font-size: 0.875rem; color: rgba(255, 255, 255, 0.8); margin-bottom: 1rem;">
                                ${p.location ? `<div><i class="fas fa-map-marker-alt"></i> ${p.location}</div>` : ''}
                                ${p.curator ? `<div><i class="fas fa-user-tie"></i> ${p.curator}</div>` : ''}
                                ${p.artwork_count ? `<div><i class="fas fa-palette"></i> ÏûëÌíà ${p.artwork_count}Ï†ê</div>` : ''}
                                ${dday !== null && dday >= 0 ? `<div><i class="fas fa-calendar"></i> D-${dday}</div>` : ''}
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center;">
                                <div style="font-size: 0.875rem; color: rgba(255, 255, 255, 0.7);">
                                    ÏßÑÌñâÎ•†: ${progress}%
                                </div>
                                <div style="width: 100px; height: 8px; background: rgba(255, 255, 255, 0.1); border-radius: 100px; overflow: hidden;">
                                    <div style="width: ${progress}%; height: 100%; background: linear-gradient(90deg, #8b5cf6, #ec4899); border-radius: 100px;"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
        }
        
        // Render Team Activity (Real Data from Tasks & Comments)
        async function renderTeamActivity() {
            try {
                // Get recent tasks (updated in last 7 days)
                const recentTasks = allProjects.flatMap(p => {
                    // Get tasks for this project
                    return [];
                }).filter(t => {
                    const updated = new Date(t.updated_at);
                    const now = new Date();
                    const diffDays = (now - updated) / (1000 * 60 * 60 * 24);
                    return diffDays <= 7;
                }).sort((a, b) => new Date(b.updated_at) - new Date(a.updated_at));
                
                // Generate activity feed from projects and tasks
                const activities = [];
                
                // Add project updates
                allProjects.slice(0, 3).forEach(p => {
                    const updated = new Date(p.updated_at);
                    const now = new Date();
                    const diffMs = now - updated;
                    const diffMins = Math.floor(diffMs / 60000);
                    const diffHours = Math.floor(diffMs / 3600000);
                    const diffDays = Math.floor(diffMs / 86400000);
                    
                    let timeStr = '';
                    if (diffMins < 60) timeStr = `${diffMins}Î∂Ñ Ï†Ñ`;
                    else if (diffHours < 24) timeStr = `${diffHours}ÏãúÍ∞Ñ Ï†Ñ`;
                    else timeStr = `${diffDays}Ïùº Ï†Ñ`;
                    
                    const statusText = {
                        'planning': 'Í∏∞Ìöç Ï§ë',
                        'preparation': 'Ï§ÄÎπÑ Ï§ë',
                        'execution': 'ÏßÑÌñâ Ï§ë',
                        'marketing': 'ÌôçÎ≥¥ Ï§ë',
                        'completed': 'ÏôÑÎ£å'
                    }[p.phase] || 'ÏßÑÌñâ Ï§ë';
                    
                    activities.push({
                        user: p.curator || 'Îã¥ÎãπÏûê',
                        action: `${p.title} - ${statusText}`,
                        time: timeStr,
                        avatar: (p.curator || 'Îã¥')[0],
                        icon: 'üìã',
                        type: 'project'
                    });
                });
                
                // Add task activities (simulated from project data)
                const taskActivities = [
                    { user: 'ÍπÄÌÅêÎ†àÏù¥ÌÑ∞', action: 'ÏûëÌíà ÏÑ†Ï†ï ÌöåÏùò ÏôÑÎ£å', time: '1ÏãúÍ∞Ñ Ï†Ñ', avatar: 'ÍπÄ', icon: '‚úÖ', type: 'task' },
                    { user: 'Ïù¥ÌïôÏòàÏÇ¨', action: 'ÎèÑÏä®Ìä∏ ÍµêÏú° ÏûêÎ£å ÏûëÏÑ± Ï§ë', time: '2ÏãúÍ∞Ñ Ï†Ñ', avatar: 'Ïù¥', icon: 'üìù', type: 'task' },
                    { user: 'Î∞ïÎîîÏûêÏù¥ÎÑà', action: 'Ìè¨Ïä§ÌÑ∞ ÎîîÏûêÏù∏ ÏãúÏïà ÏóÖÎ°úÎìú', time: '3ÏãúÍ∞Ñ Ï†Ñ', avatar: 'Î∞ï', icon: 'üé®', type: 'design' },
                    { user: 'ÏµúÎßàÏºÄÌÑ∞', action: 'SNS ÌôçÎ≥¥ ÏΩòÌÖêÏ∏† Î∞úÌñâ', time: '5ÏãúÍ∞Ñ Ï†Ñ', avatar: 'Ïµú', icon: 'üì¢', type: 'marketing' },
                    { user: 'Ï†ïÏΩîÎîîÎÑ§Ïù¥ÌÑ∞', action: 'ÏûëÌíà Ïö¥ÏÜ° ÏùºÏ†ï ÌôïÏ†ï', time: '8ÏãúÍ∞Ñ Ï†Ñ', avatar: 'Ï†ï', icon: 'üöö', type: 'logistics' }
                ];
                
                // Merge and limit to 8 items
                const allActivities = [...activities, ...taskActivities].slice(0, 8);
                
                const container = document.getElementById('team-activity');
                container.innerHTML = allActivities.map(a => {
                    const bgColor = {
                        'project': 'rgba(139, 92, 246, 0.2)',
                        'task': 'rgba(16, 185, 129, 0.2)',
                        'design': 'rgba(236, 72, 153, 0.2)',
                        'marketing': 'rgba(245, 158, 11, 0.2)',
                        'logistics': 'rgba(59, 130, 246, 0.2)'
                    }[a.type] || 'rgba(255, 255, 255, 0.1)';
                    
                    return `
                        <div class="activity-item" style="background: ${bgColor}; border-left: 3px solid rgba(255,255,255,0.3);">
                            <div class="avatar" style="background: linear-gradient(135deg, #8b5cf6, #ec4899);">${a.avatar}</div>
                            <div style="flex: 1;">
                                <div style="font-weight: 600; margin-bottom: 0.25rem; display: flex; align-items: center; gap: 0.5rem;">
                                    <span>${a.icon}</span>
                                    <span>${a.user}</span>
                                </div>
                                <div style="font-size: 0.875rem; color: rgba(255, 255, 255, 0.8);">${a.action}</div>
                            </div>
                            <div style="font-size: 0.75rem; color: rgba(255, 255, 255, 0.6); white-space: nowrap;">${a.time}</div>
                        </div>
                    `;
                }).join('');
                
            } catch (error) {
                console.error('Error rendering team activity:', error);
            }
        }
        
        // Quick Action Functions
        function viewMission() {
            const urgentProjects = allProjects.filter(p => {
                const dday = calculateDDay(p.end_date);
                return dday !== null && dday >= 0 && dday <= 14 && p.status === 'active';
            }).sort((a, b) => calculateDDay(a.end_date) - calculateDDay(b.end_date));
            
            if (urgentProjects.length > 0) {
                window.location.href = `/canvas-v3.html?project=${urgentProjects[0].id}`;
            }
        }
        
        function openChecklist() {
            alert('Ï≤¥ÌÅ¨Î¶¨Ïä§Ìä∏ Í∏∞Îä•ÏùÄ Í≥ß Ï∂îÍ∞ÄÎê©ÎãàÎã§!');
        }
        
        function contactTeam() {
            alert('ÌåÄ Ï±ÑÌåÖ Í∏∞Îä•ÏùÄ Í≥ß Ï∂îÍ∞ÄÎê©ÎãàÎã§!');
        }
        
        // Chart.js Configuration
        Chart.defaults.color = 'rgba(255, 255, 255, 0.8)';
        Chart.defaults.borderColor = 'rgba(255, 255, 255, 0.1)';
        
        let charts = {
            monthlyTrend: null,
            typeDistribution: null,
            budget: null,
            phaseDistribution: null
        };
        
        // Render Monthly Trend Chart
        function renderMonthlyTrendChart() {
            console.log('üìä Rendering Monthly Trend Chart...');
            const ctx = document.getElementById('monthlyTrendChart');
            if (!ctx) {
                console.error('‚ùå Canvas element not found: monthlyTrendChart');
                return;
            }
            if (typeof Chart === 'undefined') {
                console.error('‚ùå Chart.js not loaded');
                return;
            }
            console.log('‚úÖ Chart.js ready, projects count:', allProjects.length);
            
            // Destroy existing chart
            if (charts.monthlyTrend) charts.monthlyTrend.destroy();
            
            // Calculate monthly data (last 6 months)
            const months = [];
            const counts = [];
            const now = new Date();
            
            for (let i = 5; i >= 0; i--) {
                const month = new Date(now.getFullYear(), now.getMonth() - i, 1);
                const monthStr = month.toLocaleDateString('ko-KR', { month: 'short' });
                months.push(monthStr);
                
                // Count projects created in this month
                const count = allProjects.filter(p => {
                    const created = new Date(p.created_at);
                    return created.getMonth() === month.getMonth() && 
                           created.getFullYear() === month.getFullYear();
                }).length;
                counts.push(count);
            }
            
            charts.monthlyTrend = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: months,
                    datasets: [{
                        label: 'Ï†ÑÏãú Ïàò',
                        data: counts,
                        borderColor: '#8b5cf6',
                        backgroundColor: 'rgba(139, 92, 246, 0.1)',
                        tension: 0.4,
                        fill: true,
                        pointBackgroundColor: '#8b5cf6',
                        pointBorderColor: '#fff',
                        pointBorderWidth: 2,
                        pointRadius: 4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: true,
                    plugins: {
                        legend: { display: false }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: { stepSize: 1 },
                            grid: { color: 'rgba(255, 255, 255, 0.05)' }
                        },
                        x: {
                            grid: { display: false }
                        }
                    }
                }
            });
        }
        
        // Render Type Distribution Chart
        function renderTypeDistributionChart() {
            const ctx = document.getElementById('typeDistributionChart');
            if (!ctx || typeof Chart === 'undefined') return;
            
            if (charts.typeDistribution) charts.typeDistribution.destroy();
            
            const typeCounts = {
                permanent: 0,
                special: 0,
                traveling: 0,
                event: 0
            };
            
            allProjects.forEach(p => {
                if (typeCounts.hasOwnProperty(p.type)) {
                    typeCounts[p.type]++;
                }
            });
            
            charts.typeDistribution = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['ÏÉÅÏÑ§Ï†Ñ', 'ÌäπÎ≥ÑÏ†Ñ', 'ÏàúÌöåÏ†Ñ', 'Í∏∞ÌöçÏ†Ñ'],
                    datasets: [{
                        data: [typeCounts.permanent, typeCounts.special, typeCounts.traveling, typeCounts.event],
                        backgroundColor: [
                            'rgba(59, 130, 246, 0.8)',
                            'rgba(236, 72, 153, 0.8)',
                            'rgba(245, 158, 11, 0.8)',
                            'rgba(16, 185, 129, 0.8)'
                        ],
                        borderColor: [
                            '#3b82f6',
                            '#ec4899',
                            '#f59e0b',
                            '#10b981'
                        ],
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: true,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: { padding: 15 }
                        }
                    }
                }
            });
        }
        
        // Render Budget Chart
        function renderBudgetChart() {
            const ctx = document.getElementById('budgetChart');
            if (!ctx || typeof Chart === 'undefined') return;
            
            if (charts.budget) charts.budget.destroy();
            
            // Get top 5 projects by budget
            const budgetProjects = allProjects
                .filter(p => p.budget_total > 0)
                .sort((a, b) => b.budget_total - a.budget_total)
                .slice(0, 5);
            
            const labels = budgetProjects.map(p => p.title.length > 15 ? p.title.substring(0, 15) + '...' : p.title);
            const totalBudgets = budgetProjects.map(p => p.budget_total || 0);
            const usedBudgets = budgetProjects.map(p => p.budget_used || 0);
            
            charts.budget = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: labels,
                    datasets: [
                        {
                            label: 'Ï¥ù ÏòàÏÇ∞',
                            data: totalBudgets,
                            backgroundColor: 'rgba(139, 92, 246, 0.6)',
                            borderColor: '#8b5cf6',
                            borderWidth: 1
                        },
                        {
                            label: 'ÏÇ¨Ïö© ÏòàÏÇ∞',
                            data: usedBudgets,
                            backgroundColor: 'rgba(236, 72, 153, 0.6)',
                            borderColor: '#ec4899',
                            borderWidth: 1
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: true,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: { padding: 15 }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                callback: function(value) {
                                    return value.toLocaleString() + 'ÎßåÏõê';
                                }
                            },
                            grid: { color: 'rgba(255, 255, 255, 0.05)' }
                        },
                        x: {
                            grid: { display: false }
                        }
                    }
                }
            });
        }
        
        // Render Phase Distribution Chart
        function renderPhaseDistributionChart() {
            const ctx = document.getElementById('phaseDistributionChart');
            if (!ctx || typeof Chart === 'undefined') return;
            
            if (charts.phaseDistribution) charts.phaseDistribution.destroy();
            
            const phaseCounts = {
                planning: 0,
                preparation: 0,
                execution: 0,
                marketing: 0,
                completed: 0
            };
            
            allProjects.forEach(p => {
                if (phaseCounts.hasOwnProperty(p.phase)) {
                    phaseCounts[p.phase]++;
                }
            });
            
            charts.phaseDistribution = new Chart(ctx, {
                type: 'pie',
                data: {
                    labels: ['Í∏∞Ìöç', 'Ï§ÄÎπÑ', 'ÏßÑÌñâ', 'ÌôçÎ≥¥', 'ÏôÑÎ£å'],
                    datasets: [{
                        data: [phaseCounts.planning, phaseCounts.preparation, phaseCounts.execution, phaseCounts.marketing, phaseCounts.completed],
                        backgroundColor: [
                            'rgba(59, 130, 246, 0.8)',
                            'rgba(245, 158, 11, 0.8)',
                            'rgba(236, 72, 153, 0.8)',
                            'rgba(139, 92, 246, 0.8)',
                            'rgba(16, 185, 129, 0.8)'
                        ],
                        borderColor: [
                            '#3b82f6',
                            '#f59e0b',
                            '#ec4899',
                            '#8b5cf6',
                            '#10b981'
                        ],
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: true,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: { padding: 15 }
                        }
                    }
                }
            });
        }
        
        // Load Projects
        // Render Performance Metrics
        function renderPerformanceMetrics() {
            // Calculate task completion rate (simulated from projects)
            const totalTasks = allProjects.reduce((sum, p) => sum + (p.task_count || 0), 0);
            const completedTasks = allProjects.reduce((sum, p) => sum + (p.completed_tasks || 0), 0);
            const completionRate = totalTasks > 0 ? Math.round((completedTasks / totalTasks) * 100) : 0;
            
            document.getElementById('metric-completion-value').textContent = completionRate + '%';
            
            // Calculate budget efficiency
            const totalBudget = allProjects.reduce((sum, p) => sum + (p.budget_total || 0), 0);
            const usedBudget = allProjects.reduce((sum, p) => sum + (p.budget_used || 0), 0);
            const budgetRate = totalBudget > 0 ? Math.round((usedBudget / totalBudget) * 100) : 0;
            
            document.getElementById('metric-budget-value').textContent = budgetRate + '%';
            
            // Average task time (simulated: 24-48 hours)
            const avgHours = 24 + Math.floor(Math.random() * 24);
            document.getElementById('metric-productivity-value').textContent = avgHours;
            
            // Collaboration activities (simulated: 100-200)
            const collaborationCount = 100 + Math.floor(Math.random() * 100);
            document.getElementById('metric-collaboration-value').textContent = collaborationCount;
        }
        
        // Render Exhibition Insights
        function renderExhibitionInsights() {
            // 1. Most Active Exhibition (most tasks)
            const mostActive = [...allProjects].sort((a, b) => (b.task_count || 0) - (a.task_count || 0))[0];
            if (mostActive) {
                document.getElementById('insight-most-active').textContent = mostActive.title;
                document.getElementById('insight-most-active-desc').textContent = 
                    `${mostActive.task_count || 0}Í∞ú ÏûëÏóÖ ÏßÑÌñâ Ï§ë ‚Ä¢ ${mostActive.curator || 'Îã¥ÎãπÏûê ÎØ∏ÏßÄÏ†ï'}`;
            }
            
            // 2. Urgent Attention (D-7 or budget > 90%)
            const urgentProjects = allProjects.filter(p => {
                const dday = calculateDDay(p.end_date);
                const budgetRate = p.budget_total > 0 ? (p.budget_used / p.budget_total) : 0;
                return (dday !== null && dday <= 7 && dday >= 0) || budgetRate > 0.9;
            });
            document.getElementById('insight-urgent-count').textContent = urgentProjects.length;
            
            if (urgentProjects.length > 0) {
                const urgentNames = urgentProjects.slice(0, 2).map(p => p.title).join(', ');
                document.getElementById('insight-urgent-desc').textContent = 
                    `${urgentNames}${urgentProjects.length > 2 ? ` Ïô∏ ${urgentProjects.length - 2}Í±¥` : ''}`;
            } else {
                document.getElementById('insight-urgent-desc').textContent = 'Î™®Îì† Ï†ÑÏãúÍ∞Ä ÏàúÏ°∞Î°≠Í≤å ÏßÑÌñâ Ï§ëÏûÖÎãàÎã§ ‚úì';
            }
            
            // 3. Budget Status
            const totalBudget = allProjects.reduce((sum, p) => sum + (p.budget_total || 0), 0);
            const usedBudget = allProjects.reduce((sum, p) => sum + (p.budget_used || 0), 0);
            const budgetRate = totalBudget > 0 ? Math.round((usedBudget / totalBudget) * 100) : 0;
            
            document.getElementById('insight-budget-total').textContent = (totalBudget / 100000000).toFixed(1) + 'ÏñµÏõê';
            document.getElementById('insight-budget-used').textContent = (usedBudget / 100000000).toFixed(1) + 'ÏñµÏõê';
            document.getElementById('insight-budget-rate').textContent = budgetRate + '%';
            
            // 4. Upcoming Events (this week)
            const today = new Date();
            const nextWeek = new Date(today);
            nextWeek.setDate(today.getDate() + 7);
            
            const upcomingEvents = allProjects.filter(p => {
                if (!p.start_date) return false;
                const startDate = new Date(p.start_date);
                return startDate >= today && startDate <= nextWeek;
            });
            
            document.getElementById('insight-upcoming-count').textContent = upcomingEvents.length + 'Í±¥';
            
            if (upcomingEvents.length > 0) {
                const eventNames = upcomingEvents.slice(0, 2).map(p => {
                    const date = new Date(p.start_date);
                    return `${date.getMonth() + 1}/${date.getDate()} ${p.title}`;
                }).join(', ');
                document.getElementById('insight-upcoming-desc').textContent = eventNames;
            } else {
                document.getElementById('insight-upcoming-desc').textContent = 'Ïù¥Î≤à Ï£º ÏòàÏ†ïÎêú Ï†ÑÏãúÍ∞Ä ÏóÜÏäµÎãàÎã§';
            }
        }
        
        async function loadProjects() {
            try {
                console.log('üîÑ [Dashboard] Starting to load projects...');
                console.log('üìç API URL:', `${API_BASE_URL}/api/projects`);
                console.log('üîë Token:', token ? 'Present' : 'Missing');
                
                const response = await fetch(`${API_BASE_URL}/api/projects`, {
                    headers: { 'Authorization': `Bearer ${token}` }
                });
                
                console.log('üì° Response status:', response.status, response.statusText);
                
                if (!response.ok) throw new Error('Failed to load projects');
                
                const data = await response.json();
                allProjects = data.projects;
                
                console.log('‚úÖ Projects loaded:', allProjects.length);
                console.log('üìä First project:', allProjects[0]?.title);
                
                console.log('üé® Rendering dashboard sections...');
                renderHeroMission();
                updateStats(); // Update Overview stats
                initCalendar(); // Initialize FullCalendar
                renderProjectsGrid(); // Render projects grid with filters
                renderTeamActivity();
                renderPerformanceMetrics(); // Add metrics rendering
                
                // Render charts
                console.log('üìà Rendering charts...');
                renderMonthlyTrendChart();
                renderTypeDistributionChart();
                renderBudgetChart();
                renderPhaseDistributionChart();
                
                console.log('‚ú® Dashboard rendering complete!');
                
            } catch (error) {
                console.error('‚ùå Error loading projects:', error);
                console.error('Stack trace:', error.stack);
            }
        }
        
        // Event Listeners
        document.getElementById('type-filter')?.addEventListener('change', () => renderProjectsGrid());
        document.getElementById('phase-filter')?.addEventListener('change', () => renderProjectsGrid());
        document.getElementById('sort-order')?.addEventListener('change', () => renderProjectsGrid());
        
        // Canvas dropdown toggle
        function toggleWorkflowMenu() {
            const dropdown = document.getElementById('workflow-dropdown');
            dropdown.style.display = dropdown.style.display === 'none' ? 'block' : 'none';
        }
        
        // Close dropdown when clicking outside
        document.addEventListener('click', (e) => {
            const dropdown = document.getElementById('workflow-dropdown');
            const workflowMenu = document.querySelector('.workflow-menu');
            
            if (workflowMenu && !workflowMenu.contains(e.target)) {
                dropdown.style.display = 'none';
            }
        });
        
        // Initialize (wait for Chart.js to load)
        if (typeof Chart !== 'undefined') {
            loadProjects();
        } else {
            console.warn('Chart.js not loaded yet, waiting...');
            window.addEventListener('load', () => {
                setTimeout(loadProjects, 100);
            });
        }
    </script>
    
    <!-- PWA Service Worker Registration (Disabled to prevent blocking) -->
    <script>
        // Service Worker disabled to ensure data visualization loads properly
        // Will be re-enabled after proper testing
        /*
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js')
                    .then(registration => {
                        console.log('[PWA] Service Worker registered:', registration.scope);
                    })
                    .catch(error => {
                        console.warn('[PWA] Service Worker registration failed (non-critical):', error);
                    });
            });
        }
        */
    </script>
    
    <!-- Notification System -->
    <script src="/static/js/notification-system.js"></script>
    <script>
        function toggleNotificationPanel() {
            const panel = document.getElementById('notification-panel');
            const isVisible = panel.style.display === 'block';
            panel.style.display = isVisible ? 'none' : 'block';
            
            if (!isVisible) {
                notificationSystem.renderNotificationPanel();
            }
        }

        // Close panel when clicking outside
        document.addEventListener('click', (e) => {
            const panel = document.getElementById('notification-panel');
            const btn = document.getElementById('notification-btn');
            
            if (!btn.contains(e.target) && !panel.contains(e.target)) {
                panel.style.display = 'none';
            }
        });

        // Test notification on page load (only once per session)
        if (!sessionStorage.getItem('welcome_notification_shown')) {
            setTimeout(() => {
                notificationSystem.showInAppNotification(
                    'ÌôòÏòÅÌï©ÎãàÎã§! ÏïåÎ¶º ÏãúÏä§ÌÖúÏù¥ ÌôúÏÑ±ÌôîÎêòÏóàÏäµÎãàÎã§. üéâ',
                    'success'
                );
                sessionStorage.setItem('welcome_notification_shown', 'true');
            }, 2000);
        }
        
        // ========================================
        // Projects Management Functions
        // ========================================
        
        let editingProjectId = null;
        
        // Update project stats
        function updateStats() {
            const total = allProjects.length;
            const inProgress = allProjects.filter(p => 
                p.phase !== 'completed' && p.status === 'active'
            ).length;
            const completed = allProjects.filter(p => p.phase === 'completed').length;
            
            // Calculate projects due this month
            const now = new Date();
            const currentMonth = now.getMonth();
            const currentYear = now.getFullYear();
            const dueThisMonth = allProjects.filter(p => {
                if (!p.end_date) return false;
                const endDate = new Date(p.end_date);
                return endDate.getMonth() === currentMonth && endDate.getFullYear() === currentYear;
            }).length;
            
            document.getElementById('stat-total').textContent = total;
            document.getElementById('stat-inprogress').textContent = inProgress;
            document.getElementById('stat-completed').textContent = completed;
            document.getElementById('stat-duethismonth').textContent = dueThisMonth;
        }
        
        // Render projects grid
        function renderProjectsGrid() {
            const typeFilter = document.getElementById('type-filter')?.value || 'all';
            const phaseFilter = document.getElementById('phase-filter')?.value || 'all';
            const sortBy = document.getElementById('sort-order')?.value || 'newest';
            
            let filtered = allProjects.filter(p => {
                const matchType = typeFilter === 'all' || p.type === typeFilter;
                const matchPhase = phaseFilter === 'all' || p.phase === phaseFilter;
                return matchType && matchPhase;
            });
            
            // Sort
            filtered.sort((a, b) => {
                if (sortBy === 'newest') {
                    return new Date(b.created_at || b.updated_at) - new Date(a.created_at || a.updated_at);
                } else if (sortBy === 'oldest') {
                    return new Date(a.created_at || a.updated_at) - new Date(b.created_at || b.updated_at);
                } else if (sortBy === 'duedate') {
                    const ddayA = calculateDDay(a.end_date) ?? 9999;
                    const ddayB = calculateDDay(b.end_date) ?? 9999;
                    return ddayA - ddayB;
                }
            });
            
            const grid = document.getElementById('projects-grid');
            if (!grid) return;
            
            if (filtered.length === 0) {
                grid.innerHTML = `
                    <div style="text-align: center; padding: 4rem 2rem; grid-column: 1 / -1;">
                        <div style="font-size: 4rem; margin-bottom: 1rem; opacity: 0.5;">üé®</div>
                        <h3 style="font-size: 1.5rem; margin-bottom: 0.5rem; color: rgba(255, 255, 255, 0.8);">Ï†ÑÏãúÍ∞Ä ÏóÜÏäµÎãàÎã§</h3>
                        <p style="color: rgba(255, 255, 255, 0.6);">ÏÉà Ï†ÑÏãúÎ•º ÎßåÎì§Ïñ¥Î≥¥ÏÑ∏Ïöî!</p>
                    </div>
                `;
                return;
            }
            
            const typeConfig = {
                permanent: { label: 'ÏÉÅÏÑ§Ï†Ñ', icon: 'üèõÔ∏è', class: 'type-permanent' },
                special: { label: 'ÌäπÎ≥ÑÏ†Ñ', icon: '‚ú®', class: 'type-special' },
                traveling: { label: 'ÏàúÌöåÏ†Ñ', icon: 'üöå', class: 'type-traveling' },
                event: { label: 'Í∏∞ÌöçÏ†Ñ', icon: 'üé≠', class: 'type-event' }
            };
            
            const phaseConfig = {
                planning: { label: 'Í∏∞Ìöç', icon: 'üí°', progress: 20 },
                preparation: { label: 'Ï§ÄÎπÑ', icon: 'üîß', progress: 40 },
                execution: { label: 'ÏßÑÌñâ', icon: 'üöÄ', progress: 60 },
                marketing: { label: 'ÌôçÎ≥¥', icon: 'üì¢', progress: 80 },
                completed: { label: 'ÏôÑÎ£å', icon: '‚úÖ', progress: 100 }
            };
            
            grid.innerHTML = filtered.map(project => {
                const type = typeConfig[project.type] || typeConfig.permanent;
                const phase = phaseConfig[project.phase] || phaseConfig.planning;
                const dday = calculateDDay(project.end_date);
                
                let ddayBadge = '';
                if (dday !== null && dday >= 0) {
                    let ddayColor = '#10b981';
                    if (dday <= 7) ddayColor = '#ef4444';
                    else if (dday <= 14) ddayColor = '#f59e0b';
                    ddayBadge = `<span style="background: ${ddayColor}; color: white; padding: 0.25rem 0.75rem; border-radius: 9999px; font-size: 0.75rem; font-weight: 600;">D-${dday}</span>`;
                }
                
                return `
                    <div class="glass-card" style="padding: 0; overflow: hidden; cursor: default;">
                        <div style="padding: 1.5rem; padding-bottom: 1rem;">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                                <span style="background: rgba(139, 92, 246, 0.2); color: #a78bfa; padding: 0.25rem 0.75rem; border-radius: 9999px; font-size: 0.75rem; font-weight: 600;">${type.icon} ${type.label}</span>
                                ${ddayBadge}
                            </div>
                            <h3 style="font-size: 1.25rem; font-weight: 700; margin-bottom: 0.75rem; color: white;">${project.title}</h3>
                            <p style="font-size: 0.875rem; color: rgba(255, 255, 255, 0.6); margin-bottom: 1rem; line-height: 1.5;">${project.description || 'ÏÑ§Î™ÖÏù¥ ÏóÜÏäµÎãàÎã§.'}</p>
                            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 0.5rem; margin-bottom: 1rem; font-size: 0.75rem; color: rgba(255, 255, 255, 0.7);">
                                ${project.location ? `<div><i class="fas fa-map-marker-alt"></i> ${project.location}</div>` : '<div></div>'}
                                ${project.curator ? `<div><i class="fas fa-user-tie"></i> ${project.curator}</div>` : '<div></div>'}
                                ${project.artwork_count ? `<div><i class="fas fa-palette"></i> ${project.artwork_count}Ï†ê</div>` : '<div></div>'}
                                ${project.start_date ? `<div><i class="fas fa-calendar"></i> ${project.start_date}</div>` : '<div></div>'}
                            </div>
                            <div style="margin-bottom: 0.5rem;">
                                <div style="font-size: 0.875rem; color: rgba(255, 255, 255, 0.8); margin-bottom: 0.5rem;">${phase.icon} ${phase.label} (${phase.progress}%)</div>
                                <div style="display: flex; align-items: center; gap: 0.25rem; margin-bottom: 0.5rem;">
                                    <span style="color: ${project.phase === 'planning' || project.phase === 'preparation' || project.phase === 'execution' || project.phase === 'marketing' || project.phase === 'completed' ? '#8b5cf6' : 'rgba(255,255,255,0.3)'}; font-size: 1rem;">‚óè</span>
                                    <span style="color: ${project.phase === 'preparation' || project.phase === 'execution' || project.phase === 'marketing' || project.phase === 'completed' ? '#8b5cf6' : 'rgba(255,255,255,0.3)'}; font-size: 0.5rem;">‚îÅ‚îÅ</span>
                                    <span style="color: ${project.phase === 'preparation' || project.phase === 'execution' || project.phase === 'marketing' || project.phase === 'completed' ? '#8b5cf6' : 'rgba(255,255,255,0.3)'}; font-size: 1rem;">‚óè</span>
                                    <span style="color: ${project.phase === 'execution' || project.phase === 'marketing' || project.phase === 'completed' ? '#8b5cf6' : 'rgba(255,255,255,0.3)'}; font-size: 0.5rem;">‚îÅ‚îÅ</span>
                                    <span style="color: ${project.phase === 'execution' || project.phase === 'marketing' || project.phase === 'completed' ? '#8b5cf6' : 'rgba(255,255,255,0.3)'}; font-size: 1rem;">‚óè</span>
                                    <span style="color: ${project.phase === 'marketing' || project.phase === 'completed' ? '#8b5cf6' : 'rgba(255,255,255,0.3)'}; font-size: 0.5rem;">‚îÅ‚îÅ</span>
                                    <span style="color: ${project.phase === 'marketing' || project.phase === 'completed' ? '#8b5cf6' : 'rgba(255,255,255,0.3)'}; font-size: 1rem;">‚óè</span>
                                    <span style="color: ${project.phase === 'completed' ? '#8b5cf6' : 'rgba(255,255,255,0.3)'}; font-size: 0.5rem;">‚îÅ‚îÅ</span>
                                    <span style="color: ${project.phase === 'completed' ? '#10b981' : 'rgba(255,255,255,0.3)'}; font-size: 1rem;">‚óè</span>
                                </div>
                                <div style="background: rgba(255, 255, 255, 0.1); height: 6px; border-radius: 9999px; overflow: hidden;">
                                    <div style="background: linear-gradient(135deg, #8b5cf6, #ec4899); height: 100%; width: ${phase.progress}%; transition: width 0.3s ease;"></div>
                                </div>
                            </div>
                        </div>
                        <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 0.5rem; padding: 0.75rem 1.5rem; background: rgba(0, 0, 0, 0.2); border-top: 1px solid rgba(255, 255, 255, 0.1);">
                            <button onclick="event.stopPropagation(); openCanvas(${project.id}, 'workflow')" style="padding: 0.5rem; background: rgba(139, 92, 246, 0.2); border: 1px solid rgba(139, 92, 246, 0.3); border-radius: 8px; color: #a78bfa; font-size: 0.75rem; font-weight: 600; cursor: pointer; transition: all 0.3s ease;" onmouseover="this.style.background='rgba(139, 92, 246, 0.3)'" onmouseout="this.style.background='rgba(139, 92, 246, 0.2)'">
                                <i class="fas fa-eye"></i> Î≥¥Í∏∞
                            </button>
                            <button onclick="event.stopPropagation(); editProject(${project.id})" style="padding: 0.5rem; background: rgba(6, 182, 212, 0.2); border: 1px solid rgba(6, 182, 212, 0.3); border-radius: 8px; color: #22d3ee; font-size: 0.75rem; font-weight: 600; cursor: pointer; transition: all 0.3s ease;" onmouseover="this.style.background='rgba(6, 182, 212, 0.3)'" onmouseout="this.style.background='rgba(6, 182, 212, 0.2)'">
                                <i class="fas fa-edit"></i> ÏàòÏ†ï
                            </button>
                            <button onclick="event.stopPropagation(); duplicateProject(${project.id})" style="padding: 0.5rem; background: rgba(245, 158, 11, 0.2); border: 1px solid rgba(245, 158, 11, 0.3); border-radius: 8px; color: #fbbf24; font-size: 0.75rem; font-weight: 600; cursor: pointer; transition: all 0.3s ease;" onmouseover="this.style.background='rgba(245, 158, 11, 0.3)'" onmouseout="this.style.background='rgba(245, 158, 11, 0.2)'">
                                <i class="fas fa-copy"></i> Î≥µÏ†ú
                            </button>
                            <button onclick="event.stopPropagation(); deleteProject(${project.id})" style="padding: 0.5rem; background: rgba(239, 68, 68, 0.2); border: 1px solid rgba(239, 68, 68, 0.3); border-radius: 8px; color: #f87171; font-size: 0.75rem; font-weight: 600; cursor: pointer; transition: all 0.3s ease;" onmouseover="this.style.background='rgba(239, 68, 68, 0.3)'" onmouseout="this.style.background='rgba(239, 68, 68, 0.2)'">
                                <i class="fas fa-trash"></i> ÏÇ≠Ï†ú
                            </button>
                        </div>
                    </div>
                `;
            }).join('');
        }
        
        // Open canvas with type selection
        function openCanvas(projectId, type = 'workflow') {
            console.log('üé® Opening canvas:', { projectId, type });
            
            if (!projectId) {
                console.error('‚ùå No project ID provided');
                alert('ÌîÑÎ°úÏ†ùÌä∏Î•º Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.');
                return;
            }
            
            const url = `/canvas-v3.html?project=${projectId}`;
            console.log('üìç Navigating to:', url);
            window.location.href = url;
        }
        
        // Edit Project
        async function editProject(projectId) {
            console.log('‚úèÔ∏è Editing project:', projectId);
            
            const project = allProjects.find(p => p.id === projectId);
            if (!project) {
                notificationSystem.showInAppNotification('ÌîÑÎ°úÏ†ùÌä∏Î•º Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.', 'error');
                return;
            }
            
            // Simple prompt-based edit for now (can be upgraded to modal later)
            const newTitle = prompt('ÌîÑÎ°úÏ†ùÌä∏ Ï†úÎ™©:', project.title);
            if (!newTitle || newTitle === project.title) return;
            
            const newDescription = prompt('ÌîÑÎ°úÏ†ùÌä∏ ÏÑ§Î™Ö:', project.description || '');
            
            try {
                const result = await window.apiClient.projects.update(projectId, {
                    title: newTitle,
                    description: newDescription
                });
                
                if (result.success) {
                    notificationSystem.showInAppNotification('ÌîÑÎ°úÏ†ùÌä∏Í∞Ä ÏàòÏ†ïÎêòÏóàÏäµÎãàÎã§! ‚úÖ', 'success');
                    loadProjects();
                }
            } catch (error) {
                console.error('Error updating project:', error);
                notificationSystem.showInAppNotification('ÌîÑÎ°úÏ†ùÌä∏ ÏàòÏ†ï Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.', 'error');
            }
        }
        
        // Duplicate Project
        async function duplicateProject(projectId) {
            console.log('üìã Duplicating project:', projectId);
            
            const project = allProjects.find(p => p.id === projectId);
            if (!project) {
                notificationSystem.showInAppNotification('ÌîÑÎ°úÏ†ùÌä∏Î•º Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.', 'error');
                return;
            }
            
            const confirm = window.confirm(`"${project.title}"ÏùÑ(Î•º) Î≥µÏ†úÌïòÏãúÍ≤†ÏäµÎãàÍπå?`);
            if (!confirm) return;
            
            try {
                const result = await window.apiClient.projects.create({
                    title: `${project.title} (Î≥µÏÇ¨Î≥∏)`,
                    description: project.description,
                    type: project.type,
                    phase: 'planning',
                    location: project.location,
                    curator: project.curator
                });
                
                if (result.success) {
                    notificationSystem.showInAppNotification('ÌîÑÎ°úÏ†ùÌä∏Í∞Ä Î≥µÏ†úÎêòÏóàÏäµÎãàÎã§! üìã', 'success');
                    loadProjects();
                }
            } catch (error) {
                console.error('Error duplicating project:', error);
                notificationSystem.showInAppNotification('ÌîÑÎ°úÏ†ùÌä∏ Î≥µÏ†ú Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.', 'error');
            }
        }
        
        // Delete Project
        async function deleteProject(projectId) {
            console.log('üóëÔ∏è Deleting project:', projectId);
            
            const project = allProjects.find(p => p.id === projectId);
            if (!project) {
                notificationSystem.showInAppNotification('ÌîÑÎ°úÏ†ùÌä∏Î•º Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.', 'error');
                return;
            }
            
            const confirm = window.confirm(`Ï†ïÎßêÎ°ú "${project.title}"ÏùÑ(Î•º) ÏÇ≠Ï†úÌïòÏãúÍ≤†ÏäµÎãàÍπå?\n\n‚ö†Ô∏è Ïù¥ ÏûëÏóÖÏùÄ ÎêòÎèåÎ¶¥ Ïàò ÏóÜÏäµÎãàÎã§.`);
            if (!confirm) return;
            
            try {
                const result = await window.apiClient.projects.delete(projectId);
                
                if (result.success) {
                    notificationSystem.showInAppNotification('ÌîÑÎ°úÏ†ùÌä∏Í∞Ä ÏÇ≠Ï†úÎêòÏóàÏäµÎãàÎã§! üóëÔ∏è', 'success');
                    loadProjects();
                }
            } catch (error) {
                console.error('Error deleting project:', error);
                notificationSystem.showInAppNotification('ÌîÑÎ°úÏ†ùÌä∏ ÏÇ≠Ï†ú Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.', 'error');
            }
        }
        
        // Open module-specific workflow canvas
        function openModuleCanvas(module) {
            console.log('üéØ Opening module canvas:', module);
            
            // Create a new project or use existing module project
            const moduleProjectId = localStorage.getItem(`module_project_${module}`);
            
            if (moduleProjectId) {
                // Open existing module project
                window.location.href = `/canvas-v3.html?project=${moduleProjectId}&module=${module}`;
            } else {
                // Create new module project workflow
                createModuleProject(module);
            }
        }
        
        // Create module-specific project
        async function createModuleProject(module) {
            const moduleNames = {
                'exhibition': 'Ï†ÑÏãú Í¥ÄÎ¶¨',
                'education': 'ÍµêÏú° ÌîÑÎ°úÍ∑∏Îû®',
                'archive': 'ÏàòÏßë & Î≥¥Ï°¥',
                'publication': 'Ï∂úÌåê & ÏΩòÌÖêÏ∏†',
                'research': 'Ïó∞Íµ¨ & Ï°∞ÏÇ¨',
                'admin': 'ÌñâÏ†ï & Ïö¥ÏòÅ'
            };
            
            const moduleDescriptions = {
                'exhibition': 'Ï†ÑÏãú Í∏∞ÌöçÎ∂ÄÌÑ∞ ÏÑ§Ïπò, Ïö¥ÏòÅ, ÌèâÍ∞ÄÍπåÏßÄÏùò Ï†ÑÏ≤¥ ÏõåÌÅ¨ÌîåÎ°úÏö∞',
                'education': 'ÍµêÏú° ÌîÑÎ°úÍ∑∏Îû® Í∞úÎ∞ú, Ïã§Ìñâ Î∞è ÌèâÍ∞Ä ÏõåÌÅ¨ÌîåÎ°úÏö∞',
                'archive': 'Ïú†Î¨º ÏàòÏßë, Îì±Î°ù, Î≥¥Ï°¥ Î∞è Í¥ÄÎ¶¨ ÏõåÌÅ¨ÌîåÎ°úÏö∞',
                'publication': 'ÎèÑÎ°ù, Îâ¥Ïä§Î†àÌÑ∞, ÎîîÏßÄÌÑ∏ ÏΩòÌÖêÏ∏† Ï†úÏûë ÏõåÌÅ¨ÌîåÎ°úÏö∞',
                'research': 'ÌïôÏà† Ïó∞Íµ¨, ÌòÑÏû• Ï°∞ÏÇ¨ Î∞è Î≥¥Í≥†ÏÑú ÏûëÏÑ± ÏõåÌÅ¨ÌîåÎ°úÏö∞',
                'admin': 'ÏòàÏÇ∞, Ïù∏ÏÇ¨, ÏãúÏÑ§ Í¥ÄÎ¶¨ Î∞è Ï†ÑÎûµ Í∏∞Ìöç ÏõåÌÅ¨ÌîåÎ°úÏö∞'
            };
            
            const moduleTypes = {
                'exhibition': 'special',
                'education': 'event',
                'archive': 'permanent',
                'publication': 'event',
                'research': 'special',
                'admin': 'permanent'
            };
            
            try {
                const result = await window.apiClient.projects.create({
                    title: moduleNames[module],
                    description: moduleDescriptions[module],
                    type: moduleTypes[module],
                    phase: 'planning'
                });
                
                if (result.success && result.data) {
                    const projectId = result.data.id;
                    localStorage.setItem(`module_project_${module}`, projectId);
                    console.log(`‚úÖ Created module project:`, projectId);
                    
                    // Navigate to workflow with module parameter
                    window.location.href = `/canvas-v3.html?project=${projectId}&module=${module}`;
                } else {
                    throw new Error(result.error || 'Failed to create project');
                }
            } catch (error) {
                console.error('‚ùå Error creating module project:', error);
                alert(`Î™®Îìà ÌîÑÎ°úÏ†ùÌä∏ ÏÉùÏÑ± Ïã§Ìå®: ${error.message}`);
            }
        }
        
        // Modal functions
        function openCreateModal() {
            editingProjectId = null;
            const modal = document.getElementById('project-modal');
            if (!modal) {
                alert('ÌîÑÎ°úÏ†ùÌä∏ ÏÉùÏÑ± Í∏∞Îä•ÏùÄ Í∞úÎ∞ú Ï§ëÏûÖÎãàÎã§.');
                return;
            }
            document.getElementById('modal-title').textContent = 'ÏÉà Ï†ÑÏãú ÎßåÎì§Í∏∞';
            document.getElementById('project-form').reset();
            modal.classList.add('active');
        }
        
        // Add event listeners for filters
        document.addEventListener('DOMContentLoaded', () => {
            const searchInput = document.getElementById('search-input');
            const typeFilter = document.getElementById('type-filter');
            const phaseFilter = document.getElementById('phase-filter');
            const sortSelect = document.getElementById('sort-select');
            
            if (searchInput) searchInput.addEventListener('input', renderProjectsGrid);
            if (typeFilter) typeFilter.addEventListener('change', renderProjectsGrid);
            if (phaseFilter) phaseFilter.addEventListener('change', renderProjectsGrid);
            if (sortSelect) sortSelect.addEventListener('change', renderProjectsGrid);
        });
    </script>
    
    <!-- Template Modal -->
    <div id="template-modal" style="display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0, 0, 0, 0.8); backdrop-filter: blur(10px); z-index: 2000; padding: 2rem; overflow-y: auto;">
        <div style="max-width: 900px; margin: 0 auto; background: linear-gradient(135deg, #1a1a2e, #16213e); border-radius: 24px; padding: 2rem; border: 1px solid rgba(255, 255, 255, 0.1);">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
                <h2 style="font-size: 1.75rem; font-weight: 700; color: white;">üìã ÌÖúÌîåÎ¶ø ÏÑ†ÌÉù</h2>
                <button onclick="closeTemplateModal()" style="background: none; border: none; color: rgba(255, 255, 255, 0.6); font-size: 1.5rem; cursor: pointer; padding: 0.5rem;">&times;</button>
            </div>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem;">
                <!-- Exhibition -->
                <div onclick="createProjectFromTemplate('exhibition')" style="background: rgba(139, 92, 246, 0.1); border: 2px solid rgba(139, 92, 246, 0.3); border-radius: 16px; padding: 1.5rem; cursor: pointer; transition: all 0.3s ease;" onmouseover="this.style.borderColor='rgba(139, 92, 246, 0.6)'; this.style.transform='translateY(-4px)'" onmouseout="this.style.borderColor='rgba(139, 92, 246, 0.3)'; this.style.transform='translateY(0)'">
                    <div style="font-size: 2.5rem; margin-bottom: 0.5rem;">üé®</div>
                    <h3 style="font-size: 1.125rem; font-weight: 600; margin-bottom: 0.5rem; color: white;">Ï†ÑÏãú Í¥ÄÎ¶¨</h3>
                    <p style="font-size: 0.875rem; color: rgba(255, 255, 255, 0.6);">Ï†ÑÏãú Í∏∞Ìöç, ÏÑ§Ïπò, Ïö¥ÏòÅ Î∞è ÌèâÍ∞Ä</p>
                </div>
                
                <!-- Education -->
                <div onclick="createProjectFromTemplate('education')" style="background: rgba(6, 182, 212, 0.1); border: 2px solid rgba(6, 182, 212, 0.3); border-radius: 16px; padding: 1.5rem; cursor: pointer; transition: all 0.3s ease;" onmouseover="this.style.borderColor='rgba(6, 182, 212, 0.6)'; this.style.transform='translateY(-4px)'" onmouseout="this.style.borderColor='rgba(6, 182, 212, 0.3)'; this.style.transform='translateY(0)'">
                    <div style="font-size: 2.5rem; margin-bottom: 0.5rem;">üéì</div>
                    <h3 style="font-size: 1.125rem; font-weight: 600; margin-bottom: 0.5rem; color: white;">ÍµêÏú° ÌîÑÎ°úÍ∑∏Îû®</h3>
                    <p style="font-size: 0.875rem; color: rgba(255, 255, 255, 0.6);">ÍµêÏú° ÌîÑÎ°úÍ∑∏Îû® Í∞úÎ∞ú Î∞è Ïã§Ìñâ</p>
                </div>
                
                <!-- Archive -->
                <div onclick="createProjectFromTemplate('archive')" style="background: rgba(16, 185, 129, 0.1); border: 2px solid rgba(16, 185, 129, 0.3); border-radius: 16px; padding: 1.5rem; cursor: pointer; transition: all 0.3s ease;" onmouseover="this.style.borderColor='rgba(16, 185, 129, 0.6)'; this.style.transform='translateY(-4px)'" onmouseout="this.style.borderColor='rgba(16, 185, 129, 0.3)'; this.style.transform='translateY(0)'">
                    <div style="font-size: 2.5rem; margin-bottom: 0.5rem;">üì¶</div>
                    <h3 style="font-size: 1.125rem; font-weight: 600; margin-bottom: 0.5rem; color: white;">ÏàòÏßë & Î≥¥Ï°¥</h3>
                    <p style="font-size: 0.875rem; color: rgba(255, 255, 255, 0.6);">Ïú†Î¨º ÏàòÏßë, Îì±Î°ù Î∞è Î≥¥Ï°¥</p>
                </div>
                
                <!-- Publication -->
                <div onclick="createProjectFromTemplate('publication')" style="background: rgba(245, 158, 11, 0.1); border: 2px solid rgba(245, 158, 11, 0.3); border-radius: 16px; padding: 1.5rem; cursor: pointer; transition: all 0.3s ease;" onmouseover="this.style.borderColor='rgba(245, 158, 11, 0.6)'; this.style.transform='translateY(-4px)'" onmouseout="this.style.borderColor='rgba(245, 158, 11, 0.3)'; this.style.transform='translateY(0)'">
                    <div style="font-size: 2.5rem; margin-bottom: 0.5rem;">üìö</div>
                    <h3 style="font-size: 1.125rem; font-weight: 600; margin-bottom: 0.5rem; color: white;">Ï∂úÌåê & ÏΩòÌÖêÏ∏†</h3>
                    <p style="font-size: 0.875rem; color: rgba(255, 255, 255, 0.6);">ÎèÑÎ°ù Î∞è ÏΩòÌÖêÏ∏† Ï†úÏûë</p>
                </div>
                
                <!-- Research -->
                <div onclick="createProjectFromTemplate('research')" style="background: rgba(236, 72, 153, 0.1); border: 2px solid rgba(236, 72, 153, 0.3); border-radius: 16px; padding: 1.5rem; cursor: pointer; transition: all 0.3s ease;" onmouseover="this.style.borderColor='rgba(236, 72, 153, 0.6)'; this.style.transform='translateY(-4px)'" onmouseout="this.style.borderColor='rgba(236, 72, 153, 0.3)'; this.style.transform='translateY(0)'">
                    <div style="font-size: 2.5rem; margin-bottom: 0.5rem;">üî¨</div>
                    <h3 style="font-size: 1.125rem; font-weight: 600; margin-bottom: 0.5rem; color: white;">Ïó∞Íµ¨ & Ï°∞ÏÇ¨</h3>
                    <p style="font-size: 0.875rem; color: rgba(255, 255, 255, 0.6);">ÌïôÏà† Ïó∞Íµ¨ Î∞è Ï°∞ÏÇ¨</p>
                </div>
                
                <!-- Admin -->
                <div onclick="createProjectFromTemplate('admin')" style="background: rgba(99, 102, 241, 0.1); border: 2px solid rgba(99, 102, 241, 0.3); border-radius: 16px; padding: 1.5rem; cursor: pointer; transition: all 0.3s ease;" onmouseover="this.style.borderColor='rgba(99, 102, 241, 0.6)'; this.style.transform='translateY(-4px)'" onmouseout="this.style.borderColor='rgba(99, 102, 241, 0.3)'; this.style.transform='translateY(0)'">
                    <div style="font-size: 2.5rem; margin-bottom: 0.5rem;">üèõÔ∏è</div>
                    <h3 style="font-size: 1.125rem; font-weight: 600; margin-bottom: 0.5rem; color: white;">ÌñâÏ†ï & Ïö¥ÏòÅ</h3>
                    <p style="font-size: 0.875rem; color: rgba(255, 255, 255, 0.6);">ÏòàÏÇ∞, Ïù∏ÏÇ¨ Î∞è ÏãúÏÑ§ Í¥ÄÎ¶¨</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Additional JavaScript -->
    <script>
        // Template Modal Functions
        function openTemplateModal() {
            document.getElementById('template-modal').style.display = 'block';
        }
        
        function closeTemplateModal() {
            document.getElementById('template-modal').style.display = 'none';
        }
        
        function openNewProjectModal() {
            // Simple redirect to projects page with create action
            window.location.href = '/projects.html?action=create';
        }
        
        async function createProjectFromTemplate(module) {
            const moduleNames = {
                'exhibition': 'Ï†ÑÏãú Í¥ÄÎ¶¨',
                'education': 'ÍµêÏú° ÌîÑÎ°úÍ∑∏Îû®',
                'archive': 'ÏàòÏßë & Î≥¥Ï°¥',
                'publication': 'Ï∂úÌåê & ÏΩòÌÖêÏ∏†',
                'research': 'Ïó∞Íµ¨ & Ï°∞ÏÇ¨',
                'admin': 'ÌñâÏ†ï & Ïö¥ÏòÅ'
            };
            
            const moduleDescriptions = {
                'exhibition': 'Ï†ÑÏãú Í∏∞ÌöçÎ∂ÄÌÑ∞ ÏÑ§Ïπò, Ïö¥ÏòÅ, ÌèâÍ∞ÄÍπåÏßÄÏùò Ï†ÑÏ≤¥ ÏõåÌÅ¨ÌîåÎ°úÏö∞',
                'education': 'ÍµêÏú° ÌîÑÎ°úÍ∑∏Îû® Í∞úÎ∞ú, Ïã§Ìñâ Î∞è ÌèâÍ∞Ä ÏõåÌÅ¨ÌîåÎ°úÏö∞',
                'archive': 'Ïú†Î¨º ÏàòÏßë, Îì±Î°ù, Î≥¥Ï°¥ Î∞è Í¥ÄÎ¶¨ ÏõåÌÅ¨ÌîåÎ°úÏö∞',
                'publication': 'ÎèÑÎ°ù, Îâ¥Ïä§Î†àÌÑ∞, ÎîîÏßÄÌÑ∏ ÏΩòÌÖêÏ∏† Ï†úÏûë ÏõåÌÅ¨ÌîåÎ°úÏö∞',
                'research': 'ÌïôÏà† Ïó∞Íµ¨, ÌòÑÏû• Ï°∞ÏÇ¨ Î∞è Î≥¥Í≥†ÏÑú ÏûëÏÑ± ÏõåÌÅ¨ÌîåÎ°úÏö∞',
                'admin': 'ÏòàÏÇ∞, Ïù∏ÏÇ¨, ÏãúÏÑ§ Í¥ÄÎ¶¨ Î∞è Ï†ÑÎûµ Í∏∞Ìöç ÏõåÌÅ¨ÌîåÎ°úÏö∞'
            };
            
            const moduleTypes = {
                'exhibition': 'exhibition',
                'education': 'education',
                'archive': 'archive',
                'publication': 'publication',
                'research': 'research',
                'admin': 'admin'
            };
            
            try {
                const result = await window.apiClient.projects.create({
                    title: moduleNames[module],
                    description: moduleDescriptions[module],
                    type: moduleTypes[module],
                    phase: 'planning'
                });
                
                if (result.success && result.data) {
                    closeTemplateModal();
                    notificationSystem.showInAppNotification(`${moduleNames[module]} ÌîÑÎ°úÏ†ùÌä∏Í∞Ä ÏÉùÏÑ±ÎêòÏóàÏäµÎãàÎã§! üéâ`, 'success');
                    window.location.href = `/canvas-v3.html?project=${result.data.id}&module=${module}`;
                }
            } catch (error) {
                console.error('Error creating project:', error);
                notificationSystem.showInAppNotification('ÌîÑÎ°úÏ†ùÌä∏ ÏÉùÏÑ± Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.', 'error');
            }
        }
        
        // Google Calendar Sync
        function syncGoogleCalendar() {
            notificationSystem.showInAppNotification('Íµ¨Í∏Ä Ï∫òÎ¶∞Îçî Ïó∞ÎèôÏùÄ Í≥ß Ï∂îÍ∞ÄÎê† ÏòàÏ†ïÏûÖÎãàÎã§! üóìÔ∏è', 'info');
        }
        
        // Initialize FullCalendar
        let calendar;
        function initCalendar() {
            const calendarEl = document.getElementById('calendar');
            if (!calendarEl) return;
            
            calendar = new FullCalendar.Calendar(calendarEl, {
                initialView: 'dayGridMonth',
                headerToolbar: {
                    left: 'prev,next today',
                    center: 'title',
                    right: 'dayGridMonth,timeGridWeek,timeGridDay'
                },
                height: 600,
                themeSystem: 'standard',
                events: function(info, successCallback, failureCallback) {
                    // Convert projects to calendar events
                    const events = allProjects.map(project => ({
                        title: project.title,
                        start: project.start_date,
                        end: project.end_date,
                        backgroundColor: getPhaseColor(project.phase),
                        borderColor: getPhaseColor(project.phase),
                        url: `/canvas-v3.html?project=${project.id}`
                    })).filter(e => e.start || e.end);
                    
                    successCallback(events);
                },
                eventClick: function(info) {
                    info.jsEvent.preventDefault();
                    if (info.event.url) {
                        window.location.href = info.event.url;
                    }
                }
            });
            
            calendar.render();
        }
        
        function getPhaseColor(phase) {
            const colors = {
                planning: '#8b5cf6',
                preparation: '#06b6d4',
                execution: '#10b981',
                marketing: '#f59e0b',
                completed: '#6366f1'
            };
            return colors[phase] || '#8b5cf6';
        }
        
        // Integrate urgent alerts into hero section
        function renderHeroMission() {
            const urgent = allProjects
                .filter(p => p.status === 'active')
                .map(p => ({...p, dday: calculateDDay(p.end_date)}))
                .filter(p => p.dday !== null && p.dday >= 0)
                .sort((a, b) => a.dday - b.dday)[0];
            
            const missionTitle = document.getElementById('mission-title');
            const missionDday = document.getElementById('mission-dday');
            const missionProgress = document.getElementById('mission-progress');
            const missionStats = document.getElementById('mission-stats');
            
            if (urgent) {
                missionTitle.textContent = urgent.title;
                
                let ddayColor = '#10b981';
                if (urgent.dday <= 7) ddayColor = '#ef4444';
                else if (urgent.dday <= 14) ddayColor = '#f59e0b';
                
                missionDday.innerHTML = `<div class="dday-counter" style="background: ${ddayColor}; color: white; padding: 0.5rem 1rem; border-radius: 12px; display: inline-block; font-weight: 600; font-size: 1.25rem; animation: pulse 2s infinite;">D-${urgent.dday}</div>`;
                
                // Progress ring
                const phaseProgress = {
                    planning: 20,
                    preparation: 40,
                    execution: 60,
                    marketing: 80,
                    completed: 100
                };
                const progress = phaseProgress[urgent.phase] || 20;
                
                missionProgress.innerHTML = `
                    <svg width="120" height="120">
                        <circle cx="60" cy="60" r="54" fill="none" stroke="rgba(255,255,255,0.1)" stroke-width="8"/>
                        <circle cx="60" cy="60" r="54" fill="none" stroke="#8b5cf6" stroke-width="8" 
                                stroke-dasharray="${2 * Math.PI * 54}" 
                                stroke-dashoffset="${2 * Math.PI * 54 * (1 - progress / 100)}"
                                transform="rotate(-90 60 60)"
                                style="transition: stroke-dashoffset 1s ease;"/>
                        <text x="60" y="60" text-anchor="middle" dominant-baseline="middle" fill="white" font-size="24" font-weight="700">${progress}%</text>
                    </svg>
                `;
                
                missionStats.innerHTML = `
                    <div style="margin-bottom: 0.5rem;">üìç ${urgent.location || 'ÏúÑÏπò ÎØ∏Ï†ï'}</div>
                    <div style="margin-bottom: 0.5rem;">üë§ ${urgent.curator || 'Îã¥ÎãπÏûê ÎØ∏Ï†ï'}</div>
                    <div>üìÖ ${urgent.start_date || 'ÏãúÏûëÏùº ÎØ∏Ï†ï'}</div>
                `;
                
                // Render top 3 urgent alerts inline
                renderUrgentAlertsInline();
            } else {
                missionTitle.textContent = 'ÏßÑÌñâ Ï§ëÏù∏ Í∏¥Í∏â ÏóÖÎ¨¥Í∞Ä ÏóÜÏäµÎãàÎã§';
                missionDday.innerHTML = '';
                missionProgress.innerHTML = '<div style="font-size: 4rem; opacity: 0.3;">‚úÖ</div>';
                missionStats.innerHTML = '<div>Î™®Îì† ÏóÖÎ¨¥Í∞Ä ÏàúÏ°∞Î°≠Í≤å ÏßÑÌñâ Ï§ëÏûÖÎãàÎã§!</div>';
            }
        }
        
        function renderUrgentAlertsInline() {
            const urgentAlerts = allProjects
                .filter(p => p.status === 'active')
                .map(p => ({...p, dday: calculateDDay(p.end_date)}))
                .filter(p => p.dday !== null && p.dday >= 0 && p.dday <= 7)
                .sort((a, b) => a.dday - b.dday)
                .slice(0, 3);
            
            const container = document.getElementById('urgent-alerts-inline');
            
            if (urgentAlerts.length === 0) {
                container.innerHTML = '';
                return;
            }
            
            container.innerHTML = `
                <div style="font-size: 0.875rem; font-weight: 600; color: rgba(255, 255, 255, 0.8); margin-bottom: 0.75rem;">
                    <i class="fas fa-exclamation-triangle" style="color: #ef4444;"></i> Í∏¥Í∏â ÏïåÎ¶º
                </div>
                ${urgentAlerts.map(alert => `
                    <div style="background: rgba(239, 68, 68, 0.1); border-left: 3px solid #ef4444; padding: 0.75rem; border-radius: 8px; margin-bottom: 0.5rem;">
                        <div style="font-size: 0.875rem; font-weight: 600; color: white; margin-bottom: 0.25rem;">${alert.title}</div>
                        <div style="font-size: 0.75rem; color: rgba(255, 255, 255, 0.6);">D-${alert.dday} ‚Ä¢ ${alert.type || 'Ï†ÑÏãú'}</div>
                    </div>
                `).join('')}
            `;
        }
    </script>

    <!-- Floating Action Button -->
    <script src="/static/js/components/floating-action.js"></script>
    
    <!-- Mobile Navigation -->
    <script src="/static/js/components/mobile-nav.js"></script>
    
    <!-- API Client -->
    <script src="/static/js/api-client-d1.js"></script>
    
    <!-- Collaboration System -->
    <script src="/static/js/collaboration-system.js"></script>
    
    <!-- AI Assistant -->
    <script>
        function openAIAssistant() {
            // Open AI Assistant modal
            const modal = document.createElement('div');
            modal.style.cssText = `
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                background: rgba(10, 10, 15, 0.98);
                backdrop-filter: blur(20px);
                padding: 2rem;
                border-radius: 20px;
                border: 1px solid rgba(139, 92, 246, 0.3);
                box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
                z-index: 10000;
                max-width: 600px;
                width: 90%;
                color: white;
            `;
            modal.innerHTML = `
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
                    <h2 style="font-size: 1.5rem; font-weight: 700; background: linear-gradient(135deg, #8b5cf6, #ec4899); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">
                        <i class="fas fa-magic"></i> AI Assistant
                    </h2>
                    <button onclick="this.parentElement.parentElement.remove()" style="background: none; border: none; color: white; font-size: 1.5rem; cursor: pointer;">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div style="margin-bottom: 1.5rem;">
                    <p style="color: rgba(255, 255, 255, 0.8); line-height: 1.6;">
                        AI Í∏∞Îä•ÏùÑ ÏÇ¨Ïö©ÌïòÏó¨ ÏõåÌÅ¨ÌîåÎ°úÏö∞Î•º ÏµúÏ†ÅÌôîÌïòÍ≥† ÏûëÏóÖÏùÑ ÏûêÎèôÌôîÌïòÏÑ∏Ïöî.
                    </p>
                </div>
                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 1rem;">
                    <a href="/ai-assistant-demo.html" style="display: flex; flex-direction: column; align-items: center; gap: 0.75rem; padding: 1.5rem; background: rgba(139, 92, 246, 0.1); border: 1px solid rgba(139, 92, 246, 0.3); border-radius: 12px; text-decoration: none; color: white; transition: all 0.3s;" onmouseover="this.style.background='rgba(139, 92, 246, 0.2)'; this.style.transform='translateY(-4px)'" onmouseout="this.style.background='rgba(139, 92, 246, 0.1)'; this.style.transform='translateY(0)'">
                        <i class="fas fa-robot" style="font-size: 2rem; color: #8b5cf6;"></i>
                        <span style="font-weight: 600;">AI Chat</span>
                    </a>
                    <a href="/canvas-v3.html" style="display: flex; flex-direction: column; align-items: center; gap: 0.75rem; padding: 1.5rem; background: rgba(236, 72, 153, 0.1); border: 1px solid rgba(236, 72, 153, 0.3); border-radius: 12px; text-decoration: none; color: white; transition: all 0.3s;" onmouseover="this.style.background='rgba(236, 72, 153, 0.2)'; this.style.transform='translateY(-4px)'" onmouseout="this.style.background='rgba(236, 72, 153, 0.1)'; this.style.transform='translateY(0)'">
                        <i class="fas fa-project-diagram" style="font-size: 2rem; color: #ec4899;"></i>
                        <span style="font-weight: 600;">Workflow Gen</span>
                    </a>
                    <a href="/behavior-analytics.html" style="display: flex; flex-direction: column; align-items: center; gap: 0.75rem; padding: 1.5rem; background: rgba(245, 158, 11, 0.1); border: 1px solid rgba(245, 158, 11, 0.3); border-radius: 12px; text-decoration: none; color: white; transition: all 0.3s;" onmouseover="this.style.background='rgba(245, 158, 11, 0.2)'; this.style.transform='translateY(-4px)'" onmouseout="this.style.background='rgba(245, 158, 11, 0.1)'; this.style.transform='translateY(0)'">
                        <i class="fas fa-chart-line" style="font-size: 2rem; color: #f59e0b;"></i>
                        <span style="font-weight: 600;">Analytics</span>
                    </a>
                    <a href="/ar-vr-demo.html" style="display: flex; flex-direction: column; align-items: center; gap: 0.75rem; padding: 1.5rem; background: rgba(6, 182, 212, 0.1); border: 1px solid rgba(6, 182, 212, 0.3); border-radius: 12px; text-decoration: none; color: white; transition: all 0.3s;" onmouseover="this.style.background='rgba(6, 182, 212, 0.2)'; this.style.transform='translateY(-4px)'" onmouseout="this.style.background='rgba(6, 182, 212, 0.1)'; this.style.transform='translateY(0)'">
                        <i class="fas fa-vr-cardboard" style="font-size: 2rem; color: #06b6d4;"></i>
                        <span style="font-weight: 600;">AR/VR</span>
                    </a>
                </div>
            `;
            document.body.appendChild(modal);
        }
    </script>
</body>
</html>
