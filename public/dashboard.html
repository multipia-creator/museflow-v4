<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MuseFlow - Curator Dashboard</title>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- External Libraries -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- MuseFlow Design System -->
    <link href="/static/css/museflow-design-system.css" rel="stylesheet">
    <link href="/static/css/unified-navbar.css" rel="stylesheet">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: #F9FAFB;
            color: #111827;
            line-height: 1.6;
        }
        
        /* Dashboard Container */
        .dashboard-container {
            max-width: 1600px;
            margin: 0 auto;
            padding: 6rem 2rem 2rem 2rem;
        }
        
        /* Header Section */
        .dashboard-header {
            margin-bottom: 2rem;
        }
        
        .dashboard-greeting {
            font-size: 1.125rem;
            font-weight: 600;
            color: #111827;
            margin-bottom: 0.5rem;
        }
        
        .dashboard-date {
            font-size: 0.875rem;
            color: #6B7280;
        }
        
        /* Grid Layout - FinGuard Style */
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(12, 1fr);
            gap: 1.5rem;
            margin-bottom: 1.5rem;
        }
        
        /* Card Base Style */
        .card {
            background: white;
            border-radius: 16px;
            border: 1px solid #E5E7EB;
            padding: 1.5rem;
            transition: all 0.3s ease;
        }
        
        .card:hover {
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            transform: translateY(-2px);
        }
        
        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }
        
        .card-title {
            font-size: 1rem;
            font-weight: 700;
            color: #111827;
        }
        
        .card-action {
            color: #6B7280;
            font-size: 0.875rem;
            cursor: pointer;
            transition: color 0.2s;
        }
        
        .card-action:hover {
            color: #8B5CF6;
        }
        
        /* Hero Card - This Week Card with Alerts */
        .hero-card {
            grid-column: span 12;
            background: white;
            color: #111827;
            padding: 2.5rem;
            border: 1px solid #E5E7EB;
            position: relative;
            overflow: hidden;
        }
        
        .hero-card:hover {
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            transform: translateY(-2px);
        }
        
        .hero-content {
            position: relative;
            z-index: 1;
        }
        
        .hero-badge {
            display: inline-block;
            background: #F3F4F6;
            color: #8B5CF6;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.875rem;
            font-weight: 600;
            margin-bottom: 1rem;
        }
        
        /* Hero Header - Title + Search */
        .hero-header {
            display: flex;
            align-items: center;
            gap: 2rem;
            margin-bottom: 1.5rem;
        }
        
        .hero-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: #111827;
            white-space: nowrap;
            flex-shrink: 0;
        }
        
        /* AI Search Box */
        .ai-search-container {
            position: relative;
            flex: 1;
            min-width: 0;
        }
        
        .ai-search-box {
            display: flex;
            align-items: center;
            background: white;
            border: 2px solid #E5E7EB;
            border-radius: 50px;
            padding: 0.75rem 1.5rem;
            gap: 1rem;
            transition: all 0.3s ease;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }
        
        .ai-search-box:focus-within {
            border-color: var(--museflow-primary);
            box-shadow: 0 4px 12px rgba(139, 92, 246, 0.15);
        }
        
        .ai-search-icon {
            color: var(--museflow-primary);
            font-size: 1.25rem;
            flex-shrink: 0;
            animation: ai-pulse 2s infinite;
        }
        
        .ai-search-input {
            flex: 1;
            border: none;
            outline: none;
            font-size: 1rem;
            color: #111827;
            background: transparent;
            font-family: 'Inter', sans-serif;
        }
        
        .ai-search-input::placeholder {
            color: #9CA3AF;
        }
        
        .ai-voice-btn {
            width: 40px;
            height: 40px;
            border-radius: var(--radius-full);
            border: none;
            background: linear-gradient(135deg, var(--museflow-primary), var(--museflow-primary-hover));
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition-base);
            flex-shrink: 0;
        }
        
        .ai-voice-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 4px 12px rgba(139, 92, 246, 0.3);
        }
        
        .ai-voice-btn:active {
            transform: scale(0.95);
        }
        
        .ai-voice-btn.recording {
            animation: pulse 1.5s ease-in-out infinite;
            background: linear-gradient(135deg, #EF4444, #DC2626);
        }
        
        @keyframes pulse {
            0%, 100% {
                opacity: 1;
            }
            50% {
                opacity: 0.7;
            }
        }
        
        /* Alerts & Tasks Section */
        .hero-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1.5rem;
            margin-top: 1.5rem;
        }
        
        .alert-section,
        .task-section {
            background: #F9FAFB;
            padding: 0.875rem 1rem;
            border-radius: 12px;
            border: 1px solid #E5E7EB;
        }
        
        .alerts-list,
        .tasks-list {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
        }
        
        .section-title {
            font-size: 0.8125rem;
            font-weight: 700;
            color: #111827;
            margin-bottom: 0.625rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .section-title i {
            color: #8B5CF6;
        }
        
        .alert-item,
        .task-item {
            padding: 0.5rem 0.625rem;
            border-radius: 8px;
            background: white;
            border: 1px solid #E5E7EB;
            font-size: 0.75rem;
            line-height: 1.3;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            transition: all 0.2s;
            white-space: nowrap;
        }
        
        .alert-item strong,
        .task-item strong {
            color: #111827;
            font-weight: 600;
        }
        
        .alert-item,
        .task-item {
            color: #6B7280;
        }
        
        .alert-item:hover,
        .task-item:hover {
            background: #F9FAFB;
            border-color: #8B5CF6;
        }
        
        .alert-item-content,
        .task-item-content {
            display: flex;
            align-items: center;
            gap: 0.25rem;
        }
        
        .alert-item-content span,
        .task-item-content span {
            color: #6B7280;
        }
        
        .alert-icon {
            flex-shrink: 0;
            font-size: 0.875rem;
            line-height: 1;
        }
        
        .task-checkbox {
            flex-shrink: 0;
            width: 16px;
            height: 16px;
            border: 2px solid #D1D5DB;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .task-checkbox:hover {
            border-color: #8B5CF6;
            background: #F3F4F6;
        }
        
        /* Stat Cards - Ï£ºÏöî ÏßÄÌëú (6Í∞ú Ïπ¥ÌÖåÍ≥†Î¶¨) */
        .stat-card {
            grid-column: span 2;
        }
        
        .stat-value {
            font-size: 2.5rem;
            font-weight: 800;
            color: #111827;
            margin-bottom: 0.5rem;
        }
        
        .stat-label {
            font-size: 0.875rem;
            color: #6B7280;
            margin-bottom: 1rem;
        }
        
        .stat-progress {
            width: 100%;
            height: 8px;
            background: #E5E7EB;
            border-radius: 4px;
            overflow: hidden;
        }
        
        .stat-progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #8B5CF6, #7C3AED);
            transition: width 0.5s ease;
        }
        
        .stat-footer {
            margin-top: 1rem;
            font-size: 0.75rem;
            color: #9CA3AF;
        }
        
        /* Chart Card - Advanced Design */
        .chart-card {
            grid-column: span 6;
        }
        
        .chart-container {
            height: 300px;
            margin-top: 1rem;
            position: relative;
        }
        
        /* Timeline Card - ÏßÑÌñâ ÌîÑÎ°úÏ†ùÌä∏ */
        .timeline-card {
            grid-column: span 6;
        }
        
        .timeline-item {
            display: flex;
            align-items: flex-start;
            padding: 1rem;
            border-radius: 12px;
            margin-bottom: 0.75rem;
            transition: all 0.2s;
            cursor: pointer;
        }
        
        .timeline-item:hover {
            background: #F9FAFB;
        }
        
        .timeline-icon {
            width: 48px;
            height: 48px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            flex-shrink: 0;
            margin-right: 1rem;
        }
        
        .timeline-content {
            flex: 1;
        }
        
        .timeline-title {
            font-size: 0.875rem;
            font-weight: 600;
            color: #111827;
            margin-bottom: 0.25rem;
        }
        
        .timeline-meta {
            font-size: 0.75rem;
            color: #9CA3AF;
        }
        
        .timeline-status {
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 600;
            white-space: nowrap;
        }
        
        .timeline-status.in-progress {
            background: #FEF3C7;
            color: #92400E;
        }
        
        .timeline-status.completed {
            background: #D1FAE5;
            color: #065F46;
        }
        
        .timeline-status.pending {
            background: #E0E7FF;
            color: #3730A3;
        }
        
        /* Canvas Action Button */
        .canvas-action-btn {
            margin-left: 1rem;
            padding: 0.5rem 1rem;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 0.75rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            white-space: nowrap;
        }
        
        .canvas-action-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
        }
        
        .canvas-action-btn i {
            font-size: 0.875rem;
        }
        
        /* Google Workspace Integration Card */
        .workspace-card {
            grid-column: span 6;
        }
        
        .workspace-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
            margin-top: 1rem;
        }
        
        @media (max-width: 1024px) {
            .workspace-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        .workspace-item {
            background: #F9FAFB;
            border-radius: 12px;
            padding: 1.5rem 1rem;
            text-align: center;
            transition: all 0.2s;
            cursor: pointer;
            border: 2px solid transparent;
        }
        
        .workspace-item:hover {
            background: white;
            border-color: #8B5CF6;
            transform: translateY(-4px);
            box-shadow: 0 4px 12px rgba(139, 92, 246, 0.15);
        }
        
        .workspace-icon {
            width: 48px;
            height: 48px;
            margin: 0 auto 0.75rem;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
        }
        
        .workspace-label {
            font-size: 0.875rem;
            font-weight: 600;
            color: #111827;
            margin-bottom: 0.25rem;
        }
        
        .workspace-count {
            font-size: 0.75rem;
            color: #6B7280;
        }
        
        .workspace-count.highlight {
            color: #DC2626;
            font-weight: 700;
        }
        
        /* Budget Donut Chart Card */
        .budget-card {
            grid-column: span 6;
        }
        
        .budget-container {
            height: 300px;
            margin-top: 1rem;
            position: relative;
        }
        
        .budget-legend {
            display: flex;
            justify-content: space-around;
            margin-top: 1.5rem;
            padding-top: 1.5rem;
            border-top: 1px solid #E5E7EB;
        }
        
        .budget-legend-item {
            text-align: center;
        }
        
        .budget-legend-color {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            display: inline-block;
            margin-right: 0.5rem;
        }
        
        .budget-legend-label {
            font-size: 0.75rem;
            color: #6B7280;
            margin-bottom: 0.25rem;
        }
        
        .budget-legend-value {
            font-size: 0.875rem;
            font-weight: 700;
            color: #111827;
        }
        
        /* Wide Card */
        .wide-card {
            grid-column: span 12;
        }
        
        /* Half Card */
        .half-card {
            grid-column: span 6;
        }
        
        /* Third Card */
        .third-card {
            grid-column: span 4;
        }
        
        /* Responsive */
        @media (max-width: 1024px) {
            .stat-card {
                grid-column: span 4; /* Tablet: 3Í∞úÏî© ÌëúÏãú */
            }
            
            .third-card {
                grid-column: span 6;
            }
            
            .hero-header {
                gap: 1.5rem;
            }
            
            .hero-title {
                font-size: 1.375rem;
            }
            
            .hero-grid {
                grid-template-columns: 1fr;
            }
        }
        
        @media (max-width: 768px) {
            .dashboard-container {
                padding: 5rem 1rem 1rem 1rem;
            }
            
            .stat-card {
                grid-column: span 6; /* Mobile: 2Í∞úÏî© ÌëúÏãú */
            }
            
            .chart-card,
            .timeline-card,
            .half-card,
            .third-card,
            .workspace-card,
            .budget-card {
                grid-column: span 12;
            }
            
            .dashboard-grid {
                gap: 1rem;
            }
            
            .hero-header {
                flex-direction: column;
                align-items: stretch;
                gap: 1rem;
            }
            
            .hero-title {
                white-space: normal;
                font-size: 1.25rem;
            }
            
            .hero-grid {
                grid-template-columns: 1fr;
            }
            
            .workspace-grid {
                grid-template-columns: 1fr;
            }
            
            .ai-search-input {
                font-size: 0.875rem;
            }
            
            .ai-search-input::placeholder {
                font-size: 0.75rem;
            }
            
            .ai-voice-btn {
                width: 36px;
                height: 36px;
            }
        }
        
        /* Footer - Copyright */
        .dashboard-footer {
            max-width: 1600px;
            margin: 0 auto;
            padding: 2rem 2rem 1.5rem 2rem;
            text-align: center;
            border-top: 1px solid #E5E7EB;
            margin-top: 3rem;
        }
        
        .footer-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.75rem;
        }
        
        .footer-logo {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 1.125rem;
            font-weight: 700;
            color: #8B5CF6;
        }
        
        .footer-logo i {
            font-size: 1.5rem;
        }
        
        .footer-copyright {
            font-size: 0.875rem;
            color: #6B7280;
        }
        
        .footer-links {
            display: flex;
            gap: 1.5rem;
            font-size: 0.875rem;
        }
        
        .footer-links a {
            color: #6B7280;
            text-decoration: none;
            transition: color 0.2s;
        }
        
        .footer-links a:hover {
            color: #8B5CF6;
        }
        
        @media (max-width: 768px) {
            .dashboard-footer {
                padding: 1.5rem 1rem 1rem 1rem;
            }
            
            .footer-links {
                flex-direction: column;
                gap: 0.5rem;
            }
        }
        
        /* Animation Keyframes */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .card {
            animation: fadeInUp 0.6s ease-out;
        }
        
        /* Notification Badge for Navbar */
        .notification-badge {
            position: absolute;
            top: -4px;
            right: -4px;
            background: #DC2626;
            color: white;
            font-size: 0.625rem;
            font-weight: 700;
            padding: 2px 6px;
            border-radius: 10px;
            min-width: 18px;
            text-align: center;
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <div id="unified-navbar-container"></div>
    <script>
        fetch('/static/components/unified-navbar.html')
            .then(response => response.text())
            .then(html => {
                document.getElementById('unified-navbar-container').innerHTML = html;
                
                // Add notification badge after navbar loads
                setTimeout(() => {
                    const notificationBtn = document.querySelector('[data-tooltip="ÏïåÎ¶º"]');
                    if (notificationBtn && !notificationBtn.querySelector('.notification-badge')) {
                        const badge = document.createElement('span');
                        badge.className = 'notification-badge';
                        badge.textContent = '3';
                        notificationBtn.style.position = 'relative';
                        notificationBtn.appendChild(badge);
                    }
                }, 100);
            });
    </script>
    
    <!-- Dashboard -->
    <div class="dashboard-container">
        <!-- Header -->
        <div class="dashboard-header">
            <p class="dashboard-greeting">Î∞òÍ∞ëÏäµÎãàÎã§, ÌïôÏòàÏÇ¨Îãò. Ïò§ÎäòÏùò ÎÇ†Ïî®ÏôÄ Í∏∞Î∂ÑÏùÄ Ïñ¥Îñ†Ïã†Í∞ÄÏöî?</p>
            <p class="dashboard-date">2025ÎÖÑ 12Ïõî 2Ïùº</p>
        </div>
        
        <!-- Grid Layout -->
        <div class="dashboard-grid">
            <!-- Hero Card - This Week with Alerts & Tasks -->
            <div class="card hero-card">
                <div class="hero-content">
                    <span class="hero-badge">üìä This Week</span>
                    
                    <!-- Hero Header: Title + AI Search -->
                    <div class="hero-header">
                        <h2 class="hero-title">Ï†ÑÏãú ÌîÑÎ°úÏ†ùÌä∏ ÏßÑÌñâÎ•†Ïù¥ 15% Ï¶ùÍ∞ÄÌñàÏäµÎãàÎã§</h2>
                        
                        <!-- AI Search Box -->
                        <div class="ai-search-container">
                            <div class="ai-search-box">
                                <i class="fas fa-sparkles ai-search-icon"></i>
                                <input 
                                    type="text" 
                                    class="ai-search-input" 
                                    placeholder="AIÏóêÍ≤å Î¨¥ÏóáÏù¥Îì† Î¨ºÏñ¥Î≥¥ÏÑ∏Ïöî... (Ïòà: Ïù¥Î≤à Îã¨ Ï†ÑÏãú ÌòÑÌô©, ÏòàÏÇ∞ Î∂ÑÏÑù, ÏÜåÏû•Ìíà Í≤ÄÏÉâ)"
                                    id="aiSearchInput"
                                />
                                <button class="ai-voice-btn" id="aiVoiceBtn" title="ÏùåÏÑ± ÏûÖÎ†•">
                                    <i class="fas fa-microphone"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="hero-grid">
                        <!-- Ï§ëÏöî ÏïåÎ¶º Section -->
                        <div class="alert-section">
                            <div class="section-title">
                                <i class="fas fa-exclamation-circle"></i>
                                Ï§ëÏöî ÏïåÎ¶º
                            </div>
                            <div class="alerts-list">
                                <div class="alert-item">
                                    <span class="alert-icon">üî¥</span>
                                    <div class="alert-item-content">
                                        <strong>ÏòàÏÇ∞ Ï¥àÍ≥º Í≤ΩÍ≥†</strong>
                                        <span>ÏÑ∏Í≥Ñ Î¨∏ÌôîÏú†ÏÇ∞Ï†Ñ ‚Ç©5M</span>
                                    </div>
                                </div>
                                <div class="alert-item">
                                    <span class="alert-icon">‚ö†Ô∏è</span>
                                    <div class="alert-item-content">
                                        <strong>ÎßàÍ∞êÏùº ÏûÑÎ∞ï</strong>
                                        <span>Í≥†Î†§Ï≤≠ÏûêÏ†Ñ ÎùºÎ≤® 2Ïùº</span>
                                    </div>
                                </div>
                                <div class="alert-item">
                                    <span class="alert-icon">üìß</span>
                                    <div class="alert-item-content">
                                        <strong>ÏäπÏù∏ ÎåÄÍ∏∞</strong>
                                        <span>Ï°∞ÏÑ†ÌöåÌôîÏ†Ñ ÏòàÏÇ∞Ïïà</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Ìï¥ÏïºÌï† Ïùº Section -->
                        <div class="task-section">
                            <div class="section-title">
                                <i class="fas fa-tasks"></i>
                                Ìï¥ÏïºÌï† Ïùº
                            </div>
                            <div class="tasks-list">
                                <div class="task-item">
                                    <div class="task-checkbox"></div>
                                    <div class="task-item-content">
                                        <strong>Ï†ÑÏãú ÎùºÎ≤® Ï¥àÏïà</strong>
                                        <span>Í≥†Î†§Ï≤≠Ïûê Ïò§Îäò</span>
                                    </div>
                                </div>
                                <div class="task-item">
                                    <div class="task-checkbox"></div>
                                    <div class="task-item-content">
                                        <strong>ÎåÄÏó¨ Í≥ÑÏïΩ Í≤ÄÌÜ†</strong>
                                        <span>Íµ≠Î¶ΩÏ§ëÏïô ÎÇ¥Ïùº</span>
                                    </div>
                                </div>
                                <div class="task-item">
                                    <div class="task-checkbox"></div>
                                    <div class="task-item-content">
                                        <strong>ÎîîÏûêÏù∏ ÏäπÏù∏</strong>
                                        <span>ÌòÑÎåÄÎØ∏Ïà† Ïù¥Î≤àÏ£º</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- ÏßÑÌñâ Ï§ëÏù∏ ÏûëÏóÖ (ÏúÑÏπò ÍµêÏ≤¥) -->
            <div class="card timeline-card">
                <div class="card-header">
                    <h3 class="card-title">ÏßÑÌñâ Ï§ëÏù∏ ÏûëÏóÖ</h3>
                    <span class="card-action"><i class="fas fa-filter"></i></span>
                </div>
                
                <div class="timeline-item">
                    <div class="timeline-icon" style="background: #FEF3C7;">
                        <span>üìù</span>
                    </div>
                    <div class="timeline-content">
                        <div class="timeline-title">Ï†ÑÏãú ÎùºÎ≤® ÏûëÏÑ±</div>
                        <div class="timeline-meta">Í≥†Î†§Ï≤≠Ïûê ÌäπÎ≥ÑÏ†Ñ ¬∑ Ïò§Îäò 3:20 PM</div>
                    </div>
                    <div class="timeline-status in-progress">ÏßÑÌñâ Ï§ë</div>
                    <button class="canvas-action-btn" onclick="openCanvasForTask('Ï†ÑÏãú ÎùºÎ≤® ÏûëÏÑ±', 'document')">
                        <i class="fas fa-pencil-alt"></i> CanvasÏóêÏÑú ÏûëÏóÖ
                    </button>
                </div>
                
                <div class="timeline-item">
                    <div class="timeline-icon" style="background: #D1FAE5;">
                        <span>üí∞</span>
                    </div>
                    <div class="timeline-content">
                        <div class="timeline-title">ÏòàÏÇ∞ ÏäπÏù∏ ÏôÑÎ£å</div>
                        <div class="timeline-meta">ÌòÑÎåÄÎØ∏Ïà†Ï†Ñ ¬∑ Ïñ¥Ï†ú 12:45 PM</div>
                    </div>
                    <div class="timeline-status completed">ÏôÑÎ£å</div>
                </div>
                
                <div class="timeline-item">
                    <div class="timeline-icon" style="background: #E0E7FF;">
                        <span>üé®</span>
                    </div>
                    <div class="timeline-content">
                        <div class="timeline-title">ÏÜåÏû•Ìíà ÏÑ†Ï†ï</div>
                        <div class="timeline-meta">Ï°∞ÏÑ†ÏãúÎåÄ ÌöåÌôîÏ†Ñ ¬∑ Ïñ¥Ï†ú 11:02 AM</div>
                    </div>
                    <div class="timeline-status completed">ÏôÑÎ£å</div>
                </div>
                
                <div class="timeline-item">
                    <div class="timeline-icon" style="background: #FEF3C7;">
                        <span>üì¢</span>
                    </div>
                    <div class="timeline-content">
                        <div class="timeline-title">ÌôçÎ≥¥ Í≥ÑÌöç ÏàòÎ¶Ω</div>
                        <div class="timeline-meta">ÏÑ∏Í≥Ñ Î¨∏ÌôîÏú†ÏÇ∞Ï†Ñ ¬∑ 2Ïùº Ï†Ñ</div>
                    </div>
                    <div class="timeline-status pending">ÎåÄÍ∏∞</div>
                    <button class="canvas-action-btn" onclick="openCanvasForTask('ÌôçÎ≥¥ Í≥ÑÌöç ÏàòÎ¶Ω', 'promotion')">
                        <i class="fas fa-pencil-alt"></i> CanvasÏóêÏÑú ÏûëÏóÖ
                    </button>
                </div>
            </div>
            

            <!-- Google Workspace ÌÜµÌï© Ïπ¥Îìú (ÏúÑÏπò ÍµêÏ≤¥: ÏúÑÎ°ú Ïù¥Îèô) -->
            <div class="card workspace-card">
                <div class="card-header">
                    <h3 class="card-title">
                        <i class="fab fa-google" style="color: #4285F4; margin-right: 0.5rem;"></i>
                        Google Workspace
                    </h3>
                    <span class="card-action" onclick="window.location.href='/account.html'" style="cursor: pointer;">ÏÑ§Ï†ï <i class="fas fa-cog"></i></span>
                </div>
                <div class="workspace-grid">
                    <div class="workspace-item" onclick="window.open('https://mail.google.com', '_blank')">
                        <div class="workspace-icon" style="background: #FEF3C7;">
                            <i class="fas fa-envelope" style="color: #EA4335;"></i>
                        </div>
                        <div class="workspace-label">Gmail</div>
                        <div class="workspace-count highlight">12 ÎØ∏ÌôïÏù∏</div>
                    </div>
                    
                    <div class="workspace-item" onclick="window.open('https://calendar.google.com', '_blank')">
                        <div class="workspace-icon" style="background: #DBEAFE;">
                            <i class="fas fa-calendar-alt" style="color: #4285F4;"></i>
                        </div>
                        <div class="workspace-label">Calendar</div>
                        <div class="workspace-count">5 ÏùºÏ†ï</div>
                    </div>
                    
                    <div class="workspace-item" onclick="window.open('https://drive.google.com', '_blank')">
                        <div class="workspace-icon" style="background: #D1FAE5;">
                            <i class="fas fa-folder" style="color: #0F9D58;"></i>
                        </div>
                        <div class="workspace-label">Drive</div>
                        <div class="workspace-count">2.4 GB ÏÇ¨Ïö©</div>
                    </div>
                    
                    <div class="workspace-item" onclick="window.open('https://docs.google.com', '_blank')">
                        <div class="workspace-icon" style="background: #E0E7FF;">
                            <i class="fas fa-file-alt" style="color: #4285F4;"></i>
                        </div>
                        <div class="workspace-label">Docs</div>
                        <div class="workspace-count">8 Î¨∏ÏÑú</div>
                    </div>
                    
                    <div class="workspace-item" onclick="window.open('https://sheets.google.com', '_blank')">
                        <div class="workspace-icon" style="background: #D1FAE5;">
                            <i class="fas fa-table" style="color: #0F9D58;"></i>
                        </div>
                        <div class="workspace-label">Sheets</div>
                        <div class="workspace-count">12 ÏãúÌä∏</div>
                    </div>
                    
                    <div class="workspace-item" onclick="window.open('https://slides.google.com', '_blank')">
                        <div class="workspace-icon" style="background: #FEF3C7;">
                            <i class="fas fa-file-powerpoint" style="color: #F4B400;"></i>
                        </div>
                        <div class="workspace-label">Slides</div>
                        <div class="workspace-count">4 ÌîÑÎ†àÏ††ÌÖåÏù¥ÏÖò</div>
                    </div>
                </div>
            </div>

            <!-- Stat Cards - 6Í∞ú Ï£ºÏöî Ïπ¥ÌÖåÍ≥†Î¶¨ -->
            <!-- 1. Ï†ÑÏãú -->
            <div class="card stat-card">
                <div class="card-header">
                    <h3 class="card-title">Ï†ÑÏãú</h3>
                    <span class="card-action"><i class="fas fa-image"></i></span>
                </div>
                <div class="stat-value">12</div>
                <div class="stat-label">ÌôúÏÑ± Ï†ÑÏãú</div>
                <div class="stat-progress">
                    <div class="stat-progress-bar" style="width: 75%"></div>
                </div>
                <div class="stat-footer">16Í∞ú Ï§ë 12Í∞ú ÏßÑÌñâ</div>
            </div>
            
            <!-- 2. ÍµêÏú° -->
            <div class="card stat-card">
                <div class="card-header">
                    <h3 class="card-title">ÍµêÏú°</h3>
                    <span class="card-action"><i class="fas fa-graduation-cap"></i></span>
                </div>
                <div class="stat-value">24</div>
                <div class="stat-label">ÍµêÏú° ÌîÑÎ°úÍ∑∏Îû®</div>
                <div class="stat-progress">
                    <div class="stat-progress-bar" style="width: 80%"></div>
                </div>
                <div class="stat-footer">Ïù¥Î≤à Îã¨ +3Í∞ú Ïã†Í∑ú</div>
            </div>
            
            <!-- 3. ÏàòÏßë -->
            <div class="card stat-card">
                <div class="card-header">
                    <h3 class="card-title">ÏàòÏßë</h3>
                    <span class="card-action"><i class="fas fa-folder-plus"></i></span>
                </div>
                <div class="stat-value">1,247</div>
                <div class="stat-label">ÏÜåÏû•Ìíà Ï¥ùÍ≥Ñ</div>
                <div class="stat-progress">
                    <div class="stat-progress-bar" style="width: 62%"></div>
                </div>
                <div class="stat-footer">Ïù¥Î≤à Îã¨ +23Í±¥</div>
            </div>
            
            <!-- 4. Î≥¥Ï°¥ -->
            <div class="card stat-card">
                <div class="card-header">
                    <h3 class="card-title">Î≥¥Ï°¥</h3>
                    <span class="card-action"><i class="fas fa-shield-alt"></i></span>
                </div>
                <div class="stat-value">89</div>
                <div class="stat-label">Î≥¥Ï°¥ Ï≤òÎ¶¨ Ï§ë</div>
                <div class="stat-progress">
                    <div class="stat-progress-bar" style="width: 67%"></div>
                </div>
                <div class="stat-footer">132Í∞ú Ï§ë 89Í∞ú</div>
            </div>
            
            <!-- 5. Ï∂úÌåê -->
            <div class="card stat-card">
                <div class="card-header">
                    <h3 class="card-title">Ï∂úÌåê</h3>
                    <span class="card-action"><i class="fas fa-book"></i></span>
                </div>
                <div class="stat-value">8</div>
                <div class="stat-label">Ï∂úÌåêÎ¨º Ï†úÏûë</div>
                <div class="stat-progress">
                    <div class="stat-progress-bar" style="width: 53%"></div>
                </div>
                <div class="stat-footer">15Í∞ú Ï§ë 8Í∞ú ÏôÑÎ£å</div>
            </div>
            
            <!-- 6. Ïó∞Íµ¨ -->
            <div class="card stat-card">
                <div class="card-header">
                    <h3 class="card-title">Ïó∞Íµ¨</h3>
                    <span class="card-action"><i class="fas fa-microscope"></i></span>
                </div>
                <div class="stat-value">16</div>
                <div class="stat-label">Ïó∞Íµ¨ ÌîÑÎ°úÏ†ùÌä∏</div>
                <div class="stat-progress">
                    <div class="stat-progress-bar" style="width: 72%"></div>
                </div>
                <div class="stat-footer">22Í∞ú Ï§ë 16Í∞ú ÏßÑÌñâ</div>
            </div>
            

            <!-- ÏòàÏÇ∞ ÏÇ¨Ïö© ÌòÑÌô© (6Í∞ú Ìï≠Î™© ÏÑ∏Î∂ÑÌôî) -->
            <div class="card budget-card">
                <div class="card-header">
                    <h3 class="card-title">ÏòàÏÇ∞ ÏÇ¨Ïö© ÌòÑÌô©</h3>
                    <span class="card-action">
                        <select id="budgetViewToggle" style="border: none; background: none; cursor: pointer; color: #6B7280; font-size: 0.875rem;">
                            <option value="category">Ìï≠Î™©Î≥Ñ</option>
                            <option value="cost">ÎπÑÏö©Î≥Ñ</option>
                        </select>
                    </span>
                </div>
                <div class="budget-container">
                    <canvas id="budgetChart"></canvas>
                </div>
                <div class="budget-legend" style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem; margin-top: 1.5rem;">
                    <div class="budget-legend-item">
                        <div class="budget-legend-label">
                            <span class="budget-legend-color" style="background: #8B5CF6;"></span>
                            Ïù∏Í±¥ÎπÑ
                        </div>
                        <div class="budget-legend-value">‚Ç©1.5M (50%)</div>
                    </div>
                    <div class="budget-legend-item">
                        <div class="budget-legend-label">
                            <span class="budget-legend-color" style="background: #3B82F6;"></span>
                            ÏßÅÏ†ëÎπÑ
                        </div>
                        <div class="budget-legend-value">‚Ç©0.9M (30%)</div>
                    </div>
                    <div class="budget-legend-item">
                        <div class="budget-legend-label">
                            <span class="budget-legend-color" style="background: #10B981;"></span>
                            Í∞ÑÏ†ëÎπÑ
                        </div>
                        <div class="budget-legend-value">‚Ç©0.6M (20%)</div>
                    </div>
                </div>
            </div>
            
            <!-- Í¥ÄÎûåÍ∞ù Ï¶ùÍ∞ÄÏú® (Í≥†Í∏â Ï∞®Ìä∏, ÏúÑÏπò ÍµêÏ≤¥: ÏïÑÎûòÎ°ú Ïù¥Îèô) -->
            <div class="card chart-card">
                <div class="card-header">
                    <h3 class="card-title">Í¥ÄÎûåÍ∞ù Ï¶ùÍ∞ÄÏú®</h3>
                    <span class="card-action">
                        <select style="border: none; background: none; cursor: pointer; color: #6B7280; font-size: 0.875rem;">
                            <option>ÏßÄÎÇú 7Ïùº</option>
                            <option>ÏßÄÎÇú 30Ïùº</option>
                            <option>ÏßÄÎÇú 90Ïùº</option>
                        </select>
                    </span>
                </div>
                <div class="chart-container">
                    <canvas id="visitorChart"></canvas>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Footer - Copyright -->
    <footer class="dashboard-footer">
        <div class="footer-content">
            <div class="footer-logo">
                <i class="fas fa-museum"></i>
                <span>MuseFlow</span>
            </div>
            <div class="footer-copyright">
                ¬© 2025 MuseFlow. All rights reserved. | Designed & Developed by ÎÇ®ÌòÑÏö∞ ÍµêÏàò
            </div>
            <div class="footer-links">
                <a href="/about.html">About</a>
                <a href="/privacy.html">Privacy Policy</a>
                <a href="/terms.html">Terms of Service</a>
                <a href="/contact.html">Contact</a>
            </div>
        </div>
    </footer>
    
    <!-- Chart.js Initialization -->
    <script>
        // 1. Í¥ÄÎûåÍ∞ù Ï¶ùÍ∞ÄÏú® - Í≥†Í∏â Gradient Line Chart with Animation
        const visitorCtx = document.getElementById('visitorChart').getContext('2d');
        const visitorGradient = visitorCtx.createLinearGradient(0, 0, 0, 300);
        visitorGradient.addColorStop(0, 'rgba(139, 92, 246, 0.4)');
        visitorGradient.addColorStop(1, 'rgba(139, 92, 246, 0.0)');
        
        new Chart(visitorCtx, {
            type: 'line',
            data: {
                labels: ['Ïõî', 'Ìôî', 'Ïàò', 'Î™©', 'Í∏à', 'ÌÜ†', 'Ïùº'],
                datasets: [{
                    label: 'Î∞©Î¨∏Í∞ù Ïàò',
                    data: [3200, 4100, 3800, 5200, 4700, 6800, 7200],
                    backgroundColor: visitorGradient,
                    borderColor: '#8B5CF6',
                    borderWidth: 3,
                    tension: 0.4,
                    fill: true,
                    pointRadius: 6,
                    pointHoverRadius: 8,
                    pointBackgroundColor: '#8B5CF6',
                    pointBorderColor: '#FFFFFF',
                    pointBorderWidth: 3,
                    pointHoverBackgroundColor: '#7C3AED',
                    pointHoverBorderColor: '#FFFFFF',
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        display: false
                    },
                    tooltip: {
                        backgroundColor: '#111827',
                        titleColor: '#FFFFFF',
                        bodyColor: '#FFFFFF',
                        padding: 12,
                        borderColor: '#8B5CF6',
                        borderWidth: 2,
                        displayColors: false,
                        callbacks: {
                            label: function(context) {
                                return context.parsed.y.toLocaleString() + 'Î™Ö';
                            }
                        }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        grid: {
                            color: '#E5E7EB',
                            drawBorder: false
                        },
                        ticks: {
                            color: '#6B7280',
                            font: {
                                size: 12
                            },
                            callback: function(value) {
                                return value >= 1000 ? (value / 1000) + 'K' : value;
                            }
                        }
                    },
                    x: {
                        grid: {
                            display: false
                        },
                        ticks: {
                            color: '#6B7280',
                            font: {
                                size: 12,
                                weight: 600
                            }
                        }
                    }
                },
                animation: {
                    duration: 2000,
                    easing: 'easeInOutQuart'
                }
            }
        });
        
        // 2. ÏòàÏÇ∞ ÏÇ¨Ïö© ÌòÑÌô© - 6Í∞ú Ìï≠Î™© ÏÑ∏Î∂ÑÌôî (Ï†ÑÏãú/ÍµêÏú°/ÏàòÏßë/Î≥¥Ï°¥/Ï∂úÌåê/Ïó∞Íµ¨)
        const budgetCtx = document.getElementById('budgetChart').getContext('2d');
        
        // ÏòàÏÇ∞ Îç∞Ïù¥ÌÑ∞ (Ï¥ù 3M)
        const budgetData = {
            categories: ['Ï†ÑÏãú', 'ÍµêÏú°', 'ÏàòÏßë', 'Î≥¥Ï°¥', 'Ï∂úÌåê', 'Ïó∞Íµ¨'],
            personnel: [500, 250, 200, 150, 200, 200],    // Ïù∏Í±¥ÎπÑ (1.5M = 50%)
            direct: [300, 150, 120, 90, 120, 120],        // ÏßÅÏ†ëÎπÑ (0.9M = 30%)
            indirect: [200, 100, 80, 60, 80, 80],         // Í∞ÑÏ†ëÎπÑ (0.6M = 20%)
            colors: {
                personnel: '#8B5CF6',  // Purple
                direct: '#3B82F6',     // Blue
                indirect: '#10B981'    // Green
            }
        };
        
        const budgetChart = new Chart(budgetCtx, {
            type: 'bar',
            data: {
                labels: budgetData.categories,
                datasets: [
                    {
                        label: 'Ïù∏Í±¥ÎπÑ',
                        data: budgetData.personnel,
                        backgroundColor: budgetData.colors.personnel,
                        borderRadius: {
                            topLeft: 6,
                            topRight: 6,
                            bottomLeft: 0,
                            bottomRight: 0
                        },
                        borderSkipped: false,
                        barThickness: 60,  // Í≥†Ï†ï ÎÑàÎπÑ
                        maxBarThickness: 80
                    },
                    {
                        label: 'ÏßÅÏ†ëÎπÑ',
                        data: budgetData.direct,
                        backgroundColor: budgetData.colors.direct,
                        borderRadius: 0,
                        borderSkipped: false,
                        barThickness: 60,
                        maxBarThickness: 80
                    },
                    {
                        label: 'Í∞ÑÏ†ëÎπÑ',
                        data: budgetData.indirect,
                        backgroundColor: budgetData.colors.indirect,
                        borderRadius: 0,
                        borderSkipped: false,
                        barThickness: 60,
                        maxBarThickness: 80
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                barPercentage: 0.7,  // ÎßâÎåÄ Í∞ÑÍ≤© Ï°∞Ï†ï
                categoryPercentage: 0.8,
                plugins: {
                    legend: {
                        display: false  // Custom legend below
                    },
                    tooltip: {
                        backgroundColor: '#111827',
                        titleColor: '#FFFFFF',
                        bodyColor: '#FFFFFF',
                        padding: 12,
                        borderColor: '#8B5CF6',
                        borderWidth: 2,
                        displayColors: true,
                        callbacks: {
                            label: function(context) {
                                const label = context.dataset.label || '';
                                const value = context.parsed.y;
                                return label + ': ‚Ç©' + (value / 1000).toFixed(1) + 'K';
                            },
                            footer: function(tooltipItems) {
                                let total = 0;
                                tooltipItems.forEach(item => {
                                    total += item.parsed.y;
                                });
                                return 'Ìï©Í≥Ñ: ‚Ç©' + (total / 1000).toFixed(1) + 'K';
                            }
                        }
                    }
                },
                scales: {
                    x: {
                        stacked: true,
                        grid: {
                            display: false
                        },
                        ticks: {
                            color: '#6B7280',
                            font: {
                                size: 13,
                                weight: 600
                            }
                        }
                    },
                    y: {
                        stacked: true,
                        beginAtZero: true,
                        max: 1200,  // ÏµúÎåÄÍ∞í Î™ÖÏãú (Ï†ÑÏãú 1000K + Ïó¨Ïú† 200K)
                        grid: {
                            color: '#E5E7EB',
                            drawBorder: false
                        },
                        ticks: {
                            color: '#6B7280',
                            font: {
                                size: 12
                            },
                            stepSize: 200,  // 200K Îã®ÏúÑÎ°ú ÌëúÏãú
                            callback: function(value) {
                                if (value === 0) return '‚Ç©0';
                                return '‚Ç©' + (value / 1000).toFixed(1) + 'K';
                            }
                        }
                    }
                },
                animation: {
                    duration: 2000,
                    easing: 'easeInOutQuart'
                }
            }
        });
        
        // Toggle between category view and cost view
        document.getElementById('budgetViewToggle').addEventListener('change', function(e) {
            const view = e.target.value;
            
            if (view === 'cost') {
                // Group by cost type
                budgetChart.data.labels = ['Ïù∏Í±¥ÎπÑ', 'ÏßÅÏ†ëÎπÑ', 'Í∞ÑÏ†ëÎπÑ'];
                budgetChart.data.datasets = [
                    {
                        label: 'Ï†ÑÏãú',
                        data: [500, 300, 200],
                        backgroundColor: '#8B5CF6',
                        borderRadius: 6
                    },
                    {
                        label: 'ÍµêÏú°',
                        data: [250, 150, 100],
                        backgroundColor: '#EC4899',
                        borderRadius: 6
                    },
                    {
                        label: 'ÏàòÏßë',
                        data: [200, 120, 80],
                        backgroundColor: '#F59E0B',
                        borderRadius: 6
                    },
                    {
                        label: 'Î≥¥Ï°¥',
                        data: [150, 90, 60],
                        backgroundColor: '#10B981',
                        borderRadius: 6
                    },
                    {
                        label: 'Ï∂úÌåê',
                        data: [200, 120, 80],
                        backgroundColor: '#3B82F6',
                        borderRadius: 6
                    },
                    {
                        label: 'Ïó∞Íµ¨',
                        data: [200, 120, 80],
                        backgroundColor: '#6366F1',
                        borderRadius: 6
                    }
                ];
            } else {
                // Group by category (default)
                budgetChart.data.labels = budgetData.categories;
                budgetChart.data.datasets = [
                    {
                        label: 'Ïù∏Í±¥ÎπÑ',
                        data: budgetData.personnel,
                        backgroundColor: budgetData.colors.personnel,
                        borderRadius: 6
                    },
                    {
                        label: 'ÏßÅÏ†ëÎπÑ',
                        data: budgetData.direct,
                        backgroundColor: budgetData.colors.direct,
                        borderRadius: 6
                    },
                    {
                        label: 'Í∞ÑÏ†ëÎπÑ',
                        data: budgetData.indirect,
                        backgroundColor: budgetData.colors.indirect,
                        borderRadius: 6
                    }
                ];
            }
            
            budgetChart.update();
        });
        
        // 3. Navbar Functions - Enhanced with real functionality
        window.showAIRecommendations = function() {
            console.log('[Dashboard] AI Recommendations activated');
            alert('ü§ñ AI Ï∂îÏ≤ú ÏãúÏä§ÌÖú\n\nÏ∂îÏ≤ú ÏûëÏóÖ:\n1. Í≥†Î†§Ï≤≠ÏûêÏ†Ñ ÎùºÎ≤® ÏûëÏÑ± ÏôÑÎ£å ÌïÑÏöî\n2. ÌòÑÎåÄÎØ∏Ïà†Ï†Ñ ÌôçÎ≥¥Î¨º Í≤ÄÌÜ†\n3. ÏÑ∏Í≥ÑÎ¨∏ÌôîÏú†ÏÇ∞Ï†Ñ ÏòàÏÇ∞ Ïû¨Í≤ÄÌÜ†');
        };
        
        window.filterFavorites = function() {
            console.log('[Dashboard] Favorites filter activated');
            alert('‚≠ê Ï¶êÍ≤®Ï∞æÍ∏∞ ÌïÑÌÑ∞\n\nÏ¶êÍ≤®Ï∞æÍ∏∞Ìïú ÌîÑÎ°úÏ†ùÌä∏:\n‚Ä¢ Í≥†Î†§Ï≤≠Ïûê ÌäπÎ≥ÑÏ†Ñ\n‚Ä¢ Ï°∞ÏÑ†ÏãúÎåÄ ÌöåÌôîÏ†Ñ\n‚Ä¢ ÌòÑÎåÄÎØ∏Ïà† Í∏∞ÌöçÏ†Ñ');
        };
        
        window.toggleNotifications = function() {
            console.log('[Dashboard] Notifications panel opened');
            alert('üîî ÏïåÎ¶º ÏÑºÌÑ∞\n\n‚Ä¢ ÏòàÏÇ∞ Ï¥àÍ≥º Í≤ΩÍ≥† (ÏÑ∏Í≥Ñ Î¨∏ÌôîÏú†ÏÇ∞Ï†Ñ)\n‚Ä¢ ÎßàÍ∞êÏùº ÏûÑÎ∞ï (Í≥†Î†§Ï≤≠ÏûêÏ†Ñ ÎùºÎ≤®)\n‚Ä¢ ÏäπÏù∏ ÎåÄÍ∏∞ (Ï°∞ÏÑ†ÏãúÎåÄ ÌöåÌôîÏ†Ñ ÏòàÏÇ∞Ïïà)');
        };
        
        // 4. Task Checkbox Interaction
        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('task-checkbox')) {
                e.target.style.background = 'rgba(16, 185, 129, 0.8)';
                e.target.innerHTML = '<i class="fas fa-check" style="color: white; font-size: 0.75rem;"></i>';
                e.target.parentElement.style.opacity = '0.6';
                
                setTimeout(() => {
                    e.target.parentElement.style.transition = 'all 0.5s ease';
                    e.target.parentElement.style.transform = 'translateX(100%)';
                    e.target.parentElement.style.opacity = '0';
                }, 300);
            }
        });
        
        // 5. Workspace Items Click Animation
        document.querySelectorAll('.workspace-item').forEach(item => {
            item.addEventListener('click', function() {
                this.style.transform = 'scale(0.95)';
                setTimeout(() => {
                    this.style.transform = '';
                }, 150);
            });
        });
        
        // 6. Card Animation on Load
        window.addEventListener('load', function() {
            const cards = document.querySelectorAll('.card');
            cards.forEach((card, index) => {
                card.style.animationDelay = (index * 0.05) + 's';
            });
        });
        
        // 7. AI Search Functionality
        const aiSearchInput = document.getElementById('aiSearchInput');
        const aiVoiceBtn = document.getElementById('aiVoiceBtn');
        let isRecording = false;
        let recognition = null;
        
        // Initialize Speech Recognition
        if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {
            const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
            recognition = new SpeechRecognition();
            recognition.lang = 'ko-KR';
            recognition.continuous = false;
            recognition.interimResults = false;
            
            recognition.onstart = function() {
                isRecording = true;
                aiVoiceBtn.classList.add('recording');
                aiVoiceBtn.innerHTML = '<i class="fas fa-stop"></i>';
                console.log('[AI Search] Voice recording started');
            };
            
            recognition.onresult = function(event) {
                const transcript = event.results[0][0].transcript;
                aiSearchInput.value = transcript;
                console.log('[AI Search] Voice input:', transcript);
                performAISearch(transcript);
            };
            
            recognition.onerror = function(event) {
                console.error('[AI Search] Voice recognition error:', event.error);
                alert('ÏùåÏÑ± Ïù∏Ïãù Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§: ' + event.error);
            };
            
            recognition.onend = function() {
                isRecording = false;
                aiVoiceBtn.classList.remove('recording');
                aiVoiceBtn.innerHTML = '<i class="fas fa-microphone"></i>';
                console.log('[AI Search] Voice recording ended');
            };
        }
        
        // Voice Button Click Handler
        aiVoiceBtn.addEventListener('click', function(e) {
            e.preventDefault();
            
            if (!recognition) {
                alert('Ïù¥ Î∏åÎùºÏö∞Ï†ÄÎäî ÏùåÏÑ± Ïù∏ÏãùÏùÑ ÏßÄÏõêÌïòÏßÄ ÏïäÏäµÎãàÎã§.\n\nChrome, Edge, Safari Î∏åÎùºÏö∞Ï†ÄÎ•º ÏÇ¨Ïö©Ìï¥Ï£ºÏÑ∏Ïöî.');
                return;
            }
            
            if (isRecording) {
                recognition.stop();
            } else {
                recognition.start();
            }
        });
        
        // Search Input Enter Key Handler
        aiSearchInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                e.preventDefault();
                const query = this.value.trim();
                if (query) {
                    performAISearch(query);
                }
            }
        });
        
        // Perform AI Search
        function performAISearch(query) {
            console.log('[AI Search] Searching for:', query);
            
            // Show search animation
            aiSearchInput.value = query;
            aiSearchInput.blur();
            
            // Simulate AI response (replace with actual API call in production)
            setTimeout(() => {
                alert(`ü§ñ AI Í≤ÄÏÉâ Í≤∞Í≥º\n\nÏßàÎ¨∏: "${query}"\n\nÎãµÎ≥Ä:\n‚Ä¢ Í≤ÄÏÉâ Ï§ëÏûÖÎãàÎã§...\n‚Ä¢ Ïã§Ï†ú ÌôòÍ≤ΩÏóêÏÑúÎäî AI APIÏôÄ Ïó∞ÎèôÌïòÏó¨ Ïã§ÏãúÍ∞Ñ ÎãµÎ≥ÄÏùÑ Ï†úÍ≥µÌï©ÎãàÎã§.\n‚Ä¢ Google Gemini, OpenAI GPT Îì±Í≥º Ïó∞Îèô Í∞ÄÎä•Ìï©ÎãàÎã§.`);
            }, 500);
        }
        
        // ==========================================
        // Dashboard ‚Üí Canvas Ïó∞Îèô Ìï®Ïàò
        // ==========================================
        
        /**
         * Dashboard Task ‚Üí Canvas ÏõåÌÅ¨ÌîåÎ°úÏö∞ ÏûêÎèô ÏÉùÏÑ±
         * @param {string} taskTitle - Task Ï†úÎ™© (Ïòà: "Ï†ÑÏãú ÎùºÎ≤® ÏûëÏÑ±")
         * @param {string} taskType - Task Ïú†Ìòï (Ïòà: "document", "budget", "promotion")
         */
        function openCanvasForTask(taskTitle, taskType) {
            console.log(`[Dashboard ‚Üí Canvas] Opening Canvas for task: ${taskTitle} (${taskType})`);
            
            // 1. Task Ï†ïÎ≥¥Î•º LocalStorageÏóê Ï†ÄÏû•
            const taskData = {
                title: taskTitle,
                type: taskType,
                timestamp: Date.now(),
                source: 'dashboard',
                project: 'Í≥†Î†§Ï≤≠Ïûê ÌäπÎ≥ÑÏ†Ñ' // Ïã§Ï†ú ÌôòÍ≤ΩÏóêÏÑúÎäî ÌîÑÎ°úÏ†ùÌä∏ Ï†ïÎ≥¥ÎèÑ Ï†ÑÎã¨
            };
            
            localStorage.setItem('pending_canvas_task', JSON.stringify(taskData));
            
            // 2. Canvas ÌéòÏù¥ÏßÄÎ°ú Ïù¥Îèô
            window.location.href = '/canvas-v4-hybrid.html';
        }
        
        /**
         * Canvas Í≤∞Í≥ºÎ¨º Ïã§ÏãúÍ∞Ñ Polling (5Ï¥àÎßàÎã§)
         */
        let lastUpdateTimestamp = 0;
        
        function startDashboardPolling() {
            setInterval(async () => {
                try {
                    const response = await fetch(`/api/dashboard/updates?since=${lastUpdateTimestamp}`);
                    const data = await response.json();
                    
                    if (data.success && data.updates.length > 0) {
                        console.log(`[Dashboard Polling] Received ${data.updates.length} updates`);
                        
                        data.updates.forEach(update => {
                            updateDashboardFromCanvas(update);
                        });
                        
                        lastUpdateTimestamp = data.timestamp;
                    }
                } catch (error) {
                    console.error('[Dashboard Polling] Error:', error);
                }
            }, 5000); // 5Ï¥àÎßàÎã§ ÌôïÏù∏
        }
        
        /**
         * Canvas Í≤∞Í≥ºÎ¨ºÎ°ú Dashboard ÏúÑÏ†Ø ÏóÖÎç∞Ïù¥Ìä∏
         */
        function updateDashboardFromCanvas(update) {
            const { node_title, node_type, status } = update;
            
            // Timeline Item ÏÉÅÌÉú ÏóÖÎç∞Ïù¥Ìä∏
            const timelineItems = document.querySelectorAll('.timeline-title');
            timelineItems.forEach(item => {
                if (item.textContent.trim() === node_title) {
                    const statusBadge = item.closest('.timeline-item').querySelector('.timeline-status');
                    
                    if (status === 'completed') {
                        statusBadge.textContent = 'ÏôÑÎ£å';
                        statusBadge.className = 'timeline-status completed';
                        
                        // Î≤ÑÌäº Ïà®Í∏∞Í∏∞
                        const canvasBtn = item.closest('.timeline-item').querySelector('.canvas-action-btn');
                        if (canvasBtn) {
                            canvasBtn.style.display = 'none';
                        }
                        
                        console.log(`[Dashboard Update] Task "${node_title}" marked as completed`);
                    }
                }
            });
            
            // ÏïåÎ¶º ÌëúÏãú
            showDashboardNotification(`‚úÖ "${node_title}" ÏûëÏóÖÏù¥ ÏôÑÎ£åÎêòÏóàÏäµÎãàÎã§.`);
        }
        
        /**
         * Dashboard ÏïåÎ¶º ÌëúÏãú
         */
        function showDashboardNotification(message) {
            // Í∞ÑÎã®Ìïú Toast ÏïåÎ¶º (Ïã§Ï†ú ÌôòÍ≤ΩÏóêÏÑúÎäî Toast ÎùºÏù¥Î∏åÎü¨Î¶¨ ÏÇ¨Ïö© Í∂åÏû•)
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 80px;
                right: 20px;
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white;
                padding: 1rem 1.5rem;
                border-radius: 12px;
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
                font-weight: 600;
                z-index: 10000;
                animation: slideInRight 0.3s ease;
            `;
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.animation = 'slideOutRight 0.3s ease';
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 300);
            }, 3000);
        }
        
        // ==========================================
        // Canvas ‚Üí Dashboard Ïã§ÏãúÍ∞Ñ ÎèôÍ∏∞Ìôî (LocalStorage + Polling)
        // ==========================================
        
        /**
         * LocalStorage Î≥ÄÍ≤Ω Í∞êÏßÄ (Îã§Î•∏ ÌÉ≠/Ï∞ΩÏóêÏÑú Canvas ÏóÖÎç∞Ïù¥Ìä∏ Ïãú)
         */
        window.addEventListener('storage', function(e) {
            if (e.key === 'dashboard_updates') {
                console.log('[Dashboard] Canvas update detected from another tab');
                checkCanvasUpdates();
            }
        });
        
        /**
         * Canvas ÏóÖÎç∞Ïù¥Ìä∏ ÌôïÏù∏ Î∞è Î∞òÏòÅ
         */
        function checkCanvasUpdates() {
            const updates = JSON.parse(localStorage.getItem('dashboard_updates') || '[]');
            
            if (updates.length > 0) {
                console.log(`[Dashboard ‚Üê Canvas] Received ${updates.length} updates`);
                
                updates.forEach(update => {
                    const { type, title, data } = update;
                    
                    // ÏóÖÎç∞Ïù¥Ìä∏ ÌÉÄÏûÖÎ≥Ñ Ï≤òÎ¶¨
                    if (type === 'canvas_nodes') {
                        console.log(`[Dashboard] Canvas Nodes created: ${data.length}`);
                        showDashboardNotification(`‚úÖ CanvasÏóê ÎÖ∏Îìú ${data.length}Í∞úÍ∞Ä ÏÉùÏÑ±ÎêòÏóàÏäµÎãàÎã§.`);
                    } else if (type === 'dashboard_widgets') {
                        console.log(`[Dashboard] Dashboard Widgets created: ${data.length}`);
                        showDashboardNotification(`üìä DashboardÏóê ÏúÑÏ†Ø ${data.length}Í∞úÍ∞Ä ÏÉùÏÑ±ÎêòÏóàÏäµÎãàÎã§.`);
                        
                        // Ïã§Ï†ú ÏúÑÏ†Ø Ï∂îÍ∞Ä (Ïòà: TimelineÏóê Ï∂îÍ∞Ä)
                        data.forEach(widget => {
                            addWidgetToTimeline(widget);
                        });
                    }
                });
                
                // ÏóÖÎç∞Ïù¥Ìä∏ Ï≤òÎ¶¨ ÏôÑÎ£å ÌõÑ ÏÇ≠Ï†ú
                localStorage.removeItem('dashboard_updates');
            }
        }
        
        /**
         * WidgetÏùÑ TimelineÏóê ÎèôÏ†ÅÏúºÎ°ú Ï∂îÍ∞Ä
         */
        function addWidgetToTimeline(widget) {
            const timelineCard = document.querySelector('.timeline-card');
            if (!timelineCard) return;
            
            const timelineHtml = `
                <div class="timeline-item">
                    <div class="timeline-icon" style="background: #E0E7FF;">
                        <span>üéØ</span>
                    </div>
                    <div class="timeline-content">
                        <div class="timeline-title">${widget.title}</div>
                        <div class="timeline-meta">AI ÏûêÎèô ÏÉùÏÑ± ¬∑ Î∞©Í∏à Ï†Ñ</div>
                    </div>
                    <div class="timeline-status completed">ÏôÑÎ£å</div>
                </div>
            `;
            
            timelineCard.insertAdjacentHTML('beforeend', timelineHtml);
        }
        
        // Dashboard Î°úÎìú Ïãú Polling ÏãúÏûë
        window.addEventListener('DOMContentLoaded', () => {
            console.log('[Dashboard] Starting real-time polling for Canvas updates');
            startDashboardPolling();
            
            // LocalStorage ÏóÖÎç∞Ïù¥Ìä∏ ÌôïÏù∏ (5Ï¥àÎßàÎã§)
            setInterval(checkCanvasUpdates, 5000);
            
            // Ï¶âÏãú Ìïú Î≤à ÌôïÏù∏
            checkCanvasUpdates();
        });
    </script>
</body>
</html>
